<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>云音乐商城</title>
<base href="/" target="_self">
<link href="//s2.music.126.net/store/s/w/pt_common_macro.css?b0ddcd4c90a58f8f35b2b4d25e7d1046" type="text/css" rel="stylesheet"/>
<link rel="shortcut icon" href="//p1.music.126.net/Wf_ww5HxkQcpX_vpxbGC3g==/109951163508668952" />
<meta name="baidu-site-verification" content="cNhJHKEzsD" />
<meta property="qc:admins" content="27354635321361636375" />
<meta name="applicable-device" content="pc">
<meta name="robots" content="nofollow">
<link href="//s2.music.126.net/store/s/w/core.css?5436130bed610851a6a6a979ccddb2bd" type="text/css" rel="stylesheet"/>
<meta property="og:type" content="link" />
<meta property="og:title" content="Beats Solo3 Wireless 无线蓝牙头戴式耳机 带麦可通话 内置Apple W1 芯片" />
<meta property="og:image" content="http://p3.music.126.net/bar0caA1tW_e-pkx_AWw0Q==/109951163799602745.jpg" />
<meta property="og:url" content="http://music.163.com/store/m/product/detail?from=out&id=6453052" />
<meta property="og:abstract" content="我在网易云音乐商城发现个不错的东西，强烈推荐给你，赶快来看看吧~~。" />
<meta property="og:contentid" content="actMainBox" />
<link rel="stylesheet" href="//s3.music.126.net/store/react/public/CouponSelectBox.173c.bundle.css"/>
<script>
var VipInfo = {
vipLevel: 0
};
var detailJson = {"vipLevel":0,"isLogin":"0","avatarUrl":"","nickname":"","userId":0,"validNum":0};
var activity = {"productId":6453052,"itemList":{}};
var isLogin = 0;
var validNum = 0;
</script>
<script type="text/javascript" src="//s2.music.126.net/static/mob/ntes.id.js" async></script>
<script>
window.NRUM = window.NRUM || {};
window.NRUM.config = {key:'03e80df5212e4252da621bd852e65383',clientStart: +new Date()};
(function() {var n = document.getElementsByTagName('script')[0],s = document.createElement('script');s.type = 'text/javascript';s.async = true;s.src = '//nos.netease.com/apmsdk/napm-web-min-1.1.6.js';n.parentNode.insertBefore(s, n);})();
</script>
<script>
var detailJson = {"vipLevel":0,"isLogin":"0","avatarUrl":"","nickname":"","userId":0,"validNum":0};
</script>
</head>
<body>
<div id="g_top" data-module="store" class="m-header f-pr">
<div class="m-nav f-cb f-pr">
<div class="m-logo f-fl">
<a href="javascript:;" data-action="home"></a>
</div>
<div class="m-search f-fl" id="m-search"></div>
<div class="m-shopcar f-fl f-pr">
<a href="javascript:;" data-action="login" data-href="/store/cart"><span class="num f-pa">0</span></a>
</div>
<div class="m-user f-fl" id="m-user"></div>
</div>
<div class="border f-pa"></div>
</div>
<div class="g-bd g-bd-hasFooter">
<div class="m-bread">
<div class="block" id="headcontent">
<span><a href='/store/product'>首页</a></span><span class='pointer'><i></i>Beats Solo3 Wireless 无线蓝牙头戴式耳机 带麦可通话 内置Apple W1 芯片</span>
<div id="share" class="share f-fr" data-action="share" style="cursor: pointer;">分享</div>
</div>
</div>
<div id="g-main" class="ma">
<script type="text/javascript">
try {
if (parent != self) {
var headContent = document.getElementById('headcontent');
var m2Top = document.getElementById('m2top');
if (headContent) {
headContent.parentNode.style.borderBottom = "0px";
headContent.style.display = "none";
}
if (m2Top) {
m2Top.style.display = "none";
}
}
} catch(err) {
}
</script>
<div id="module-root" class="n-detail" data-songid=>
<div class="u-loading f-hide j-flag"><i class="icn"></i>加载中...</div>
<div class="f-cb" style="min-height:530px;">
<div class="n-display f-fl j-flag">
</div>
<div class="n-info f-fr j-flag" data-now="1556796356776">
</div>
</div>
<div id="promotion">
<div id="promotionlist"></div>
</div>
<div class="n-content">
<div class="n-content-left f-fl f-cb">
<h2>商品详情</h2>
<div class="n-singles j-flag">
</div>
<div class="n-describe">
<div class="j-flag"></div>
</div>
</div>
<div class="n-hotrecommend" id="hotrecommend">
<h2 class="f-ff2">热门商品</h2>
</div>
</div>
<div id="j-topbar" class="f-fixed n-topbar">
</div>
</div>
<div class="m-foot ">
</div>
</div>
</div>
</div>
<div id="m2top"></div>
<div class="g-ft g-ft-noplaybar">
<div class="m-ft">
<div class="wrap f-cb">
<div class="copy">
<p>
<a href="/about" target="_blank" class="s-fc4">关于网易</a><span class="line">|</span>
<a href="http://help.163.com/" target="_blank" class="s-fc4">客户服务</a><span class="line">|</span>
<a href="/html/web2/service.html" target="_blank" class="s-fc4">服务条款</a><span class="line">|</span>
<a href="http://sitemap.163.com/" target="_blank" class="s-fc4">网站导航</a><span class="line">|</span>
<a hidefocus="true" data-action="feedback" class="s-fc4">意见反馈</a>
</p>
<p class="s-fc3">
<span class="sep">网易公司版权所有©1997-2019</span>杭州乐读科技有限公司运营：<a class="s-fc3" href="http://p1.music.126.net/-DB9zs1FAJq8vg7HOb-yOQ==/3250156395654666.jpg" target="_blank">浙网文[2015] 0415-135号</a>
</p>
</div>
<ul class="enter f-fr">
<li>
<a class="logo logo-musician f-tid" href="/recruit" target="_blank">独立音乐人</a>
</li>
<li>
<a class="logo logo-topic f-tid" href="/topic/recruit" target="_blank">音乐专栏</a>
</li>
<li>
<a class="logo logo-midea f-tid" href="/topic/selfmedia" target="_blank">自媒体</a>
</li>
<li>
<a class="logo logo-reward f-tid" href="/web/reward" target="_blank">赞赏</a>
</li>
</ul>
</div>
</div>
</div>
<script src="//s3.music.126.net/store/lib/regular.min.js"></script>
<script src="//s3.music.126.net/store/activity/public/vendor.a84c9730.dll.js"></script>
<script src="//s3.music.126.net/store/react/public/CouponSelectBox.173c.bundle.js"></script>
<div id="template-box" style="display:none;">
<textarea name="txt" id="g-info-json">{"supportWx":false,"canAnonymous":false,"isUnsupportedClient":false,"fromApp":false,"envType":"online","client":"","iswp10":false,"isMobile":false,"device":"phone","platform":"other","appHost":"music.163.com"}
</textarea>
<textarea name="txt" id="g-config-json">{
"inviteTitle":"邀请你使用网易云音乐，新用户礼包等你来~",
"inviteSubTitle":"现在加入可以领取新用户奖励，众多积分好礼等你来换~",
"invitePic":"http://p4.music.126.net/j08ovrdu1uhzbNebrzCRHw==/7896692511462708.jpg",
"serviceNumber":"0571-89853546（09:30~18:00）",
"serviceMail":"cloudmusicservice@163.com",
"showVipIosver":"1.0.0"
}
</textarea>
<textarea name="jst" id="g-alert-tip"><div class="lyct m-tip f-tc ${cls}">
{if type=='ok'}
<p><i class="u-icn u-icn-12"></i></p>
{elseif type=='error'}
<p><i class="u-icn u-icn-13"></i></p>
{elseif type=='warn'}
<p><i class="u-icn u-icn-14"></i></p>
{/if}
{if !!msgtitle}
<p class="mesg2 f-fw1 f-fs2 s-fc1">${msgtitle}</p>
<p class="f-fs1 s-fc1">${msg}</p>
{else}
<p class="mesg f-fw1 f-fs1 s-fc1">${message}</p>
{/if}
</div>
<div class="lsbtn f-tc">
<a data-action="ok" href="javascript:;" class="u-btn-new u-btn-new1" hidefocus="true"><i>${ok|default:'知道了'}</i></a>
</div>
</textarea>
<textarea name="jst" id="g-confirm-tip"><div class="lyct m-tip f-tc">
<p class="mesg f-fw1 f-fs1 s-fc1">${message}</p>
{if note!=""}
<p class="note">${note}</p>
{/if}
</div>
<div class="lsbtn f-tc">
<a data-action="ok" href="javascript:;" class="u-btn-new u-btn-new2" hidefocus="true"><i>${ok|default:'确定'}</i></a>
<a data-action="cc" href="javascript:;" class="u-btn-new u-btn-new3" hidefocus="true"><i>${cc|default:'取消'}</i></a>
</div>
</textarea>
<textarea name="jst" id="g-mesg-tip"> <div class="tip">${message}</div>
</textarea>
<textarea name="ntp" id="g-address"><form class='m-addressform'>
<div class="s-fc3 j-flag">当前商品从保税区发货，需提供收货人的身份证号方可通过海关。</div>
<div class="ztr name">
<span class='th f-ib'>收 货 人</span>
<input name="name" type="text" class="u-txt" placeholder="为了提高发货速度，请填写您的真实姓名">
<span class="err j-flag"></span>
</div>
<div class="ztr">
<span class='th f-ib'>身 份 证</span>
<input name="idcard" type="text" class="u-txt" >
<span class="err j-flag"></span>
</div>
<div class="ztr phone">
<span class='th f-ib'>手机号码</span>
<input name="cellphone" type="text" class="u-txt" >
<span class="err j-flag"><i class='f-ib'></i>手机号应该是11位数字</span>
</div>
<div class="ztr indexh address j-flag">
<span class='th f-ib'>收货地区</span>
</div>
<div class="ztr detail">
<span class='th f-ib'>详细地址</span>
<textarea name="detailAddress" class='u-txt area j-address' cols="30" rows="10" placeholder="无需重复填写省市区，小于120字"><&#47;textarea>
<span class="err addrserr j-flag"></span>
<div class="setdefault" id="setdftbox" data-action="setdefault">
<label>
<i class="u-icn u-icn-checked" id="setdft"></i><span>设为默认地址</span>
</label>
</div>
</div>
<div class="pdh">
<a data-action="ok" href="javascript:;" class="u-btn-save" hidefocus="true"><i>保存新地址</i></a>
<a data-action="hide" href="javascript:;" class="u-btn-hide" hidefocus="true"><i>取消</i></a>
</div>
</form>
</textarea>
<textarea name="jst" id="g-addresslist"> {list address as addrs}
${addrs.length}
<li data-index="${addrs_index}" data-action="setdefault" data-id=${addrs.id} {if addrs_index == 0}class="b-top"{/if}>
<div class="m-ite">
<div class="f-pr">
<div class="mes">
<div class="itm name">
<span class="des f-fl">收 货 人&nbsp :</span><em class="f-fl f-thide">${addrs.name}</em>
</div>
<div class="itm phone">
<span class="des f-fl">联系方式 :</span><em class="f-fl f-thide">${addrs.cellphone|escape}</em>
</div>
<div class="itm detailaddr">
<span class="des f-fl">收货地址 :</span><em class="f-fl f-thide">${addrs.provinceCity}${addrs.detailAddress}</em>
</div>
</div>
<div class="default f-pa{if addrs.prop == 0} f-hide {/if}">默认地址</div>
</div>
</div>
<i></i>
</li>
{/list}
</textarea>
<textarea name="ntp" id="g-address2"> <div id="g-addrbox" class="g-addrbox"></div>
<div class="g-addr-btns f-tc">
<a data-action="ok" class="u-btn-new u-btn-new2">确 定</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a data-action="cc" class="u-btn-new u-btn-new3">取 消</a>
</div>
</textarea>
<textarea name="ntp" id="g-coupons"> <div id="textinput"></div>
<div id="select-coupon" style="min-height:408px;"></div>
<div class="m-coupon-btns f-tc">
<a data-action="ok" class="u-btn-new u-btn-new2">确 定</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a data-action="cc" class="u-btn-new u-btn-new3">取 消</a>
</div>
</textarea>
<textarea name="ntp" id="g-promotions"> <div id="select-promotion" style="min-height:408px;"></div>
</textarea>
<textarea name="ntp" id="g-select"><div class="u-slt f-ib">
<span class="curr f-thide">－请选择－</span>
<a class="btn" href="javascript:;"><i class="u-icn u-icn-slt"></i></a>
<ul class="f-hide">
</ul>
</div>
</textarea>
<textarea name="ntp" id="g-ticket-info"><form class="inputs j-flag">
<p><label>购 票 人 &nbsp;: </label><input placeholder="请填写真实姓名" name="realName" class="u-txt"/><span class="u-tips-err j-flag f-vhide"><i class="f-ib"></i></span></p>
<p id="cellphone"><label>手机号码 : </label><input name="cellphone" class="u-txt"/><span class="u-tips-err j-flag f-vhide"><i class="f-ib"></i></span></p>
<p id="idCard">
<label>身 份 证 &nbsp;:</label><input name="idNumber" class="u-txt"/><span class="u-tips-err j-flag f-vhide"><i class="f-ib"></i></span>
<span class="cardinfo">该演出须凭身份证入场</span>
</p>
</form>
<div class="btnwrap f-tc">
<a data-action="ok" href="javascript:;" hidefocus="true"><i>确定</i></a>
</div>
</textarea>
<textarea name="ntp" id="g-phone-info"><form class="form j-flag">
<p class="head j-flag">请输入手机号，我们会在该演出票务销售的第一时间通知您</p>
<input name="cellphone" class="u-txt"/>
<span class="u-tips-err j-flag f-hide"><i class="f-ib"></i></span>
<div class="btnwrap f-tc">
<a data-action="ok" href="javascript:;" hidefocus="true"><i>提 交</i></a>
</div>
</form>
</textarea>
<textarea name="jst" id="g-select-item">{list options as o}
<li class="f-thide" data-index="${o_index}"><a href="javascript:;">${o|filter}</a></li>
{/list}
</textarea>
<textarea name="jst" id="g-order"><div class="j-flag"></div>
<div class="item pro {if product.specialType!=6&&product.specialType!=1&&product.specialType!=16&&product.priceType!=0&&product.goodExchangeType!=1}pro-not-center{/if}" {if product.specialType==17}style="height:117px;"{/if}>
<span class='img'><img src="${product.coverUrl}{if product.specialType==17}?param=88y117{else}?param=88y88{/if}" alt=""></span>
<div class="left">
<p class="tit s-fc1 f-thide2">${product.name}</p>
{if product.specialType!=6&&sku.attrs && sku.attrs.length>0}
<p class="sku f-thide">
{list sku.attrs as attr}
${attr.attrValue}&nbsp;
{/list}
</p>
{/if}
</div>
<div class="right">
{if !(product.exchangeType == 1 && product.vipLimit == true)}
{if product.priceType==1 || product.priceType==10 }
<p class="price s-fc1">&yen;<em>${sku.price}</em></p>
{else}
<p class="price s-fc1 f-mgt0"><i class="u-icn u-icn-jifen-sml"></i><em>${sku.price}</em></p>
{/if}
{/if}
{if product.specialType!=6&&product.specialType!=1&&product.specialType!=16&&product.priceType!=0&&product.goodExchangeType!=1&&goodQuantity>0&&!options.showNumber}
<p class="num s-fc4">x <em>${goodQuantity}</em></p>
{/if}
</div>
</div>
{if isNewAlbum && options.discount > 0}
<div class="discount f-cb">
<div class="pay">折减：<span>-&yen;${options.discount}</span></div>
</div>
{/if}
{if couponUse}
<div class="coupon-info discount f-cb" id="coupon-vip-use-info" data-action="orderSelectVipCoupon">
优惠券: ${couponUse.couponName}
{if couponUse.effectAction.effectType == 1}
&nbsp;&nbsp;立减￥${couponUse.effectAction.effectValue}
{elseif couponUse.effectAction.effectType == 2}
&nbsp;&nbsp;立享${couponUse.effectAction.effectValue}折
{/if}
&nbsp;>
</div>
{/if}
{if orderCoupon && orderCoupon.discountMoney}
<div class="coupon-info discount f-cb" id="coupon-vip-use-info">
优惠券: -¥${orderCoupon.discountMoney}
</div>
{/if}
<div class="total f-cb">
{if options.showNumber}
<div class="count f-mgt5">
<p class="number f-fs1 f-fl s-fc666">数量：</p>
<div id="order-counter">
<div class="u-counter f-fl">
<a data-action="down" href="javascript:;" class="btn btn-dis j-x"><i class="u-icn u-icn-27"></i></a>
<span class="tot"><input type="text" value="1" class="text f-fs1 j-x"></span>
<a data-action="plus" href="javascript:;" class="btn j-x"><i class="u-icn u-icn-28"></i></a>
</div>
</div>
</div>
{/if}
{if product.specialType==17&&product.expressPrice>0}
<div class="pay">含${product.expressPrice}元运费，需实付：<span><em>${product.priceType|toRmb}</em><em class="j-flag">${sku.price*10000*goodQuantity/10000+product.expressPrice}</em>${product.priceType|toJifen}</span></div>
{else}
{if !(product.exchangeType == 1 && product.vipLimit == true)}
<div class="pay">需支付：<span>{if product.priceType==1 || product.priceType==10 }&yen;{else}<i class="u-icn u-icn-jifen"></i>{/if}<em class="j-flag" id="confirm-pay-price">${price}</em></span></div>
{/if}
{/if}
<div class="code f-hide j-flag">
<span class='tt'>我的积分券：</span>
</div>
<div class="viptip check f-hide j-viptip">
<i class="checkbox u-checkbox z-checked j-vipcheckbox" data-action="vipcheckbox"></i><span class="f-fs1 s-fc3 text">同意《<a target="_blank" href="/html/web2/vip.html" class="f-fs1 s-fc3 f-tdu">付费会员服务协议</a>》</span>
</div>
</div>
{if product.priceType==1}
<div class="ztt">选择支付方式：</div>
<ul class="zpay j-flag">
<li data-action="method" data-method="3"><span class="zwx">微信支付</span></li>
<li data-action="method" data-method="0"><span class="zzfb">支付宝</span></li>
</ul>
{/if}
<div class="duba">
{if !(product.exchangeType == 1 && product.vipLimit == true)}
<a data-action="ok" href="javascript:;" class="u-btn u-btn-red" hidefocus="true" id="confirmbtn">确认支付</a>
{else}
<a data-action="ok" href="javascript:;" class="u-btn u-btn-red" hidefocus="true" id="confirmbtn">确认抽奖</a>
{/if}
<a data-action="cc" href="javascript:;" class="u-btn u-btn-line" hidefocus="true">取消</a>
</div>
</textarea>
<textarea name="jst" id="g-order2"><div class="j-flag" style="display:none;"></div>
<div class="zhifu f-cb">
<div class="msg">
<div class="txt f-fs22">
<i></i>提交订单
</div>
<div class="limit f-fs16 s-fc333">
先购先得，请尽快完成支付！
</div>
</div>
<div class="price">
<span class="f-fl f-fs16">支付金额：</span>
<span class="f-fs16 s-fcTheme">&yen;<em class="j-flag f-fw1">${totalMoney}</em></span>
</div>
<div class="code f-hide j-flag" style="display:none;">
<span class='tt'>我的积分券：</span>
</div>
</div>
<div class="bor"></div>
<ul class="zpay j-flag">
<li data-action="method" data-method="3"><span class="zwx">微信支付</span></li>
<li data-action="method" data-method="0"><span class="zzfb">支付宝</span></li>
</ul>
<div class="duba" style="display:none;">
<a data-action="ok" href="javascript:;" class="u-btn u-btn-red" hidefocus="true"><i>确认支付</i></a>
<a data-action="cc" href="javascript:;" class="u-btn u-btn-line" hidefocus="true"><i>取消</i></a>
</div>
</textarea>
<textarea name="jst" id="g-order-addr-msc"> <div class="addr-msc">
<p class='nam'>购 票 人：<em>${name}</em> <em>${cellphone}</em></p>
<p class="id">身 份 证：${idNum}</em><a data-action="changeAddress" href="javascript:;">修改</a></p>
</div>
</textarea>
<textarea name="ntp" id="g-select-addr"><div class="addr u-slt f-ib">
<span class="curr f-thide">
<i class="pos u-icn u-icn-pos"></i><em></em><em></em><em></em>
</span>
<a href="javascript:;" class="f-link"></a>
<a class="btn" href="javascript:;"><i class="u-icn u-icn-slt"></i></a>
<ul class="ops f-hide"></ul>
</div>
</textarea>
<textarea name="jst" id="g-select-addr-item">{list options as o}
{if o_index==0}
<li data-index="-1"><a href="javascript:;" style="color:#333;"><i class="u-icn u-icn-add"></i>添加新地址</a></li>
{/if}
<li data-index="${o_index}" class="f-thide pa"><a class="pd f-thide" href="javascript:;"><em>${o.name}</em><em>${o.cellphone}</em><em >${o.provinceCity}${o.detailAddress}</em></a>{if o.prop==1}<i class="u-icn u-icn-default"></i>{/if}</li>
{/list}
</textarea>
<textarea name="ntp" id="g-phone-code"> <div class="ztel">
<span class='tt'>你的手机号：<em class='j-flag' ></em></span>
<span class='tt'>你会收到一条带有验证码的短信，请输入验证码</span>
<input name='code' type="text"class="u-txt j-flag" >
<span class='tm j-flag'>00:00</span>
<span data-action="redo" class='re f-hide j-flag'>重新获取验证码</span>
<span class="err j-flag"><i class='f-ib'></i>验证码错误，请重新输入</span>
<div class="tbtn">
<a href="javascript:;" data-action="back" class="u-btn2 u-btn2-2 j-flag" hidefocus="true"><i>上一步</i></a>
<a href="javascript:;" data-action="next" class="u-btn2 u-btn2-1" hidefocus="true"><i>下一步</i></a>
</div>
</div>
</textarea>
<textarea name="ntp" id="g-pay-tip"><div class="rect f-tc">
<p>请在新打开的<em class="j-flag">支付宝</em>页面完成支付,支付完成前请不要关闭该窗口</p>
<p class='tel'>若支付遇到问题，请联系 <a target="_blank" href="//music.163.com/#/msg/m/private_detail?id=253335632&nickname=%E4%BA%91%E9%9F%B3%E4%B9%90%E5%AE%A2%E6%9C%8D" class="s-fc7">@云音乐客服</a></p>
</div>
<div class="lsbtn1 f-tc">
<a data-action="payed" href="javascript:;" class="u-btn-new u-btn-new1" hidefocus="true"><i>已经完成支付</i></a>
</div>
</textarea>
<textarea name="jst" id="g-recharge-wait"><div class="rect f-tc">
<p>请在新打开的支付宝 网易宝页面完成支付</p>
<p>支付完成前请不要关闭该窗口</p>
<p class='tel'>若支付遇到问题，请联系 <a target="_blank" href="//music.163.com/#/msg/m/private_detail?id=253335632&nickname=%E4%BA%91%E9%9F%B3%E4%B9%90%E5%AE%A2%E6%9C%8D" class="s-fc7">@云音乐客服</a></p>
</div>
<div class="lsbtn1 f-tc">
<a data-action="finished" href="javascript:;" class="u-btn2 u-btn2-1" hidefocus="true"><i>已经完成支付</i></a>
</div>
</textarea>
<textarea name="ntp" id="g-wx-scanpay"> <div class="wxscan">
<div class="scan">
<div class="tip"></div>
<div class="codeimg" >
<img src="" class="j-flag"/>
</div>
<p class="tip2">为避免系统自动取消订单，请在 <i id="order-countdown" class="s-fc6"></i> 内进行付款</p>
</div>
<div class="rphone"></div>
</div>
</textarea>
<textarea name="jst" id="m-top"> <div class="m-wrap" id="m-top">
<div class="m-item m-unclick" data-action="go2license" style="cursor: pointer;">
<span>查看<br>营业执照</span>
</div>
<div class="m-item m-unclick">
<span>100%<br>正品</span>
</div>
<div class="m-item m-unclick">
<span>七天无理由退货</span>
</div>
{if !isHideCart}
<div class="m-item shopcar" data-action="shopcar">
<span>
<i class="icon"></i>
<span class="f-pr">购物车
{if num < 10}
<span class="num f-pa j-cartnum">${num}</span>
{elseif num > 9 && num < 100}
<span class="num-b f-pa j-cartnum">${num}{if isOut}+{/if}</span>
{/if}
</span>
</span>
</div>
{/if}
<div class="m-item kefu" data-action="kefu">
<i class="icon"></i>
<span class="f-pr">客服</span>
</div>
<div class="m-item m-back f-hide" data-action="top">
<a href="javascript:;" class="j-totop"></a>
</div>
</div>
</textarea>
<textarea name="ntp" id="m-simple-share-layer"> <div class="lyct lyct-1">
<ul class="n-outshr f-cb">
<li data-type="xlwb">
<a href="javascript:;" class="logo xlwb"></a>
<a href="javascript:;" class="wd">新浪微博</a>
</li>
<li data-type="wx">
<a href="javascript:;" class="logo wxfrd"></a>
<a href="javascript:;" class="wd">微信</a>
</li>
<li data-type="yx">
<a href="javascript:;" class="logo yxfrd"></a>
<a href="javascript:;" class="wd">易信好友</a>
</li>
<li data-type="qzone">
<a href="javascript:;" class="logo qzone"></a>
<a href="javascript:;" class="wd">QQ空间</a>
</li>
<li data-type="lofter" style="display:none;">
<a href="javascript:;" class="logo lofte"></a>
<a href="javascript:;" class="wd">LOFTER</a>
</li>
<li data-type="db" style="display:none;">
<a href="javascript:;" class="logo db"></a>
<a href="javascript:;" class="wd">豆瓣</a>
</li>
</ul>
</div>
</textarea>
<textarea name="jst" id="m-wgt-redeem-tip"><div class="lyct">
<div class="result f-tc">
<div class="text">
<h4 class="f-fs2"><i class="icn u-icn2 u-icn2-{if type=='error'}16{else}15{/if}"></i>${title}</h4>
<p class="f-fs1">${sub}</p>
</div>
<div class="btnwrap {if ok&&cc}btnwrap-1{/if}">
{if ok}
<a data-action="ok" href="javascript:;" class="u-btn-new u-btn-new2" hidefocus="true"><i>${ok}</i></a>
{/if}
{if cc}
<a data-action="cc" href="javascript:;" class="u-btn-new u-btn-new3" hidefocus="true"><i>${cc}</i></a>
{/if}
</div>
</div>
</div>
</textarea>
<script id="cardtpl" type = "text/regular">
<div class="{cardboxclazz}">
<a class="cover f-pr f-blk j-statistics" data-alg="{obj.alg}" data-id="{obj.id}" data-position="{index}" data-action="card" {#if this.isAdCard(obj)}href="{obj.url}" data-action="adclick" {#else}href="{this.conbineUrl(obj.id)}"{/if} target="_blank">
{#if !isNeedLazyLoad}
<img src="{obj.picUrl||obj.coverUrl}?param=244y244" class="f-img">
{#else}
<img data-src="{obj.picUrl||obj.coverUrl}" class="f-img j-lazy">
{/if}
{#if obj.tags&&obj.tags.length&&obj.tags[0]=="限时抢购"} <span class="buying f-pa"></span>{/if}
{#if obj.tags&&obj.tags.length&&obj.tags[0]=="特价"&&obj.originalCost}
<span class="spec f-pa">
<span class="origin f-pa">&yen;{obj.minPrice}</span>
<span class="cut f-pa"><del>&yen;{obj.originalCost}</del></span>
</span>
{/if}
{#if this.isSoldOut(obj)}
<div class="z-soldout f-pa"></div>
{/if}
</a>
<div class="cnt f-tc">
<h3 class="f-thide2">
{#if obj.couponLabelFlag==2}<span class="tag tag-red"><em>{obj.couponLabelDesc}</em></span>{/if}
{#if obj.tags&&obj.tags.length&&obj.tags[0]!=="限时抢购"&&obj.couponLabelFlag!=2}<span class="tag tag-red"><em>{obj.tags[0]}</em></span>{/if}
{#if this.isLottery(obj)}<span class="tag tag-blue">抽奖</span>{/if}
<a data-id="{obj.id}" data-position="{index}" data-action="card" {#if this.isAdCard(obj)}href="{obj.url}" data-action="adclick" {#else}href="{this.conbineUrl(obj.id)}"{/if} target="_blank">{obj.name||obj.text}</a>
</h3>
{#if obj.artistName}<p class="name s-fc3 f-thide">{obj.artistName}}</p>{/if}
{#if !this.isAdCard(obj)}
<p class="txt f-thide">
{#if this.isShowPrice(obj)}
&yen;<em>{obj.minPrice}</em>
{#if this.isVip(obj)}
<em style="font-size:15px;color:#fe672e">(黑胶VIP &yen;{obj.vipMinPrice})</em>
{/if}
{#else}
<i class="jifen"></i>
<em class="price">{obj.minPrice}</em>
{/if}
</p>
{/if}
</div>
</div>
</script>
<script id="card2tpl" type="text/regular">
<li {#if this.isYongle()}class="f-cb product" {#else}class="f-cb" {/if}>
<span class="pic f-fl">
<img src="{this.getImgSrc(cpdata.goodSkuData.skuPicUrl)}" alt="商品图片">
</span>
<span class="msg f-fl">
<div class="promes">
<p class="name f-thide">{cpdata.productName}</p>
{#if this.isYongle() && concertData.concert}
<p class="attr f-thide">时间&nbsp;:&nbsp;{this.getConcertTime(cpdata.goodSkuData.attrs)}</p>
<p class="attr f-thide">地点&nbsp;:&nbsp;{(concertData.concert.address && concertData.concert.address.address) || ''}</p>
{#if (!playSeatInfo && concertData.seatJump && concertData.seatJump == 1 && concertData.seatJumpInfos.length > 0)}
<p class="attr seat"><span class="seattag">座号&nbsp;:</span>
{#list concertData.seatJumpInfos as seat}
{#if seat_index == concertData.seatJumpInfos.length - 1}
<span>{seat.seatInfo || ''}</span>
{#else}
<span>{seat.seatInfo || ''}、&nbsp;&nbsp;</span>
{/if}
{/list}
</p>
{#else}
{#if playSeatInfo && playSeatInfo.seatInfo && playSeatInfo.seatInfo.length > 0}
<p class="attr seat"><span class="seattag">座号&nbsp;:</span>
{#list playSeatInfo.seatInfo as seat}
{#if seat_index == playSeatInfo.seatInfo.length - 1}
<span>{seat || ''}</span>
{#else}
<span>{seat || ''}、&nbsp;&nbsp;</span>
{/if}
{/list}
</p>
{/if}
{/if}
{#else}
<p class="attr f-thide">{this.getAttrsName(cpdata.goodSkuData.attrs)}</p>
{/if}
</div>
</span>
{#if this.isYongle() && playSeatInfo}
<span class="price f-fl">&yen;{playSeatInfo.seatPrice}</span>
<span class="num f-fl">{playSeatInfo.num}</span>
<span class="total f-fl">&yen;{playSeatInfo.totalPrice}</span>
{#else}
<span class="price f-fl">&yen;{cpdata.signleMoney}</span>
<span class="num f-fl">{cpdata.num}</span>
<span class="total f-fl">&yen;{this.multiPrice(cpdata.num,cpdata.signleMoney)}</span>
{/if}
{#if cpdata.needMessage}
<input class={!cpdata.emptyAttach ? "txtarea" : "txtarea warn"} width="100%" rows="1" on-blur={this.changeAttachInfo()} on-input={this.changeAttachLength()} r-model="cpdata.attach" placeholder={cpdata.defaultMessage ? (cpdata.defaultMessage + "(必填,50字以内)") : "请输入买家留言(必填,50字以内)"} />
{/if}
</li>
</script>
<script id="cartcardtpl" type="text/regular">
<li class="f-cb">
<div class="check f-fl">
<i {#if cpdata.selected}class="checkbox u-checkbox z-checked"{#else}class="checkbox u-checkbox" {/if} on-click={this.onCheckbox($event,cpdata)}>
</i>
</div>
<div class="cnt f-fl">
<div class="coverwrap f-fl">
<div class="cover f-bd2">
<a target="_blank" href="/store/product/detail?id={cpdata.productId}">
<img src="{cpdata.goodSkuData.skuPicUrl}?param=80y80">
</a>
</div>
</div>
{#if this.getAttrsName(cpdata.goodSkuData.attrs)}
<div class="msg f-fl">
<a target="_blank" href="/store/product/detail?id={cpdata.productId}">
<p class="tit f-thide">{cpdata.productName}</p>
</a>
<p class="sku s-fc4 f-thide">{this.getAttrsName(cpdata.goodSkuData.attrs)}</p>
</div>
{#else}
<div class="msg2 f-fl">
<a target="_blank" href="/store/product/detail?id={cpdata.productId}">
<p class="tit f-thide">{cpdata.productName}</p>
</a>
</div>
{/if}
<div class="price f-fl f-tc">&yen;<em>{cpdata.signleMoney}</em></div>
<div class="ctrl f-fl f-pr f-tc">
<cp-numcount max={this.getCountCanbuyMaxNum(cpdata)} min=0 cnum={cpdata.num} on-numchange={this.onNumberChange($event)}/>
{#if this.warntip(cpdata)}<div class="store">{this.warntip(cpdata)}</div>{/if}
</div>
<div class="price line f-fl f-tc">&yen;{this.multiPrice(cpdata.signleMoney,cpdata.num)}</div>
<div class="delete f-fl" on-click={this.onDelete()}>
</div>
</div>
</li>
</script>
<script id="cartdiscardtpl" type="text/regular">
<li class="f-cb f-pr">
<div class="check f-fl">
<i class="checkbox u-checkbox"></i>
</div>
<div class="cnt f-fl">
<div class="coverwrap f-fl">
<a target="_blank" class="f-pr zdex" href="/store/product/detail?id={cpdata.productId}">
<img src="{cpdata.goodSkuData.skuPicUrl}?param=80y80">
</a>
</div>
{#if this.getAttrsName(cpdata.goodSkuData.attrs)}
<div class="msg f-fl">
<a target="_blank" class="f-pr zdex f-ib" href="/store/product/detail?id={cpdata.productId}">
<p class="tit f-thide">{cpdata.productName}</p>
</a>
<p class="sku s-fc4 f-thide">{this.getAttrsName(cpdata.goodSkuData.attrs)}</p>
</div>
{#else}
<div class="msg2 f-fl">
<a target="_blank" href="/store/product/detail?id={cpdata.productId}">
<p class="tit f-thide">{cpdata.productName}</p>
</a>
</div>
{/if}
<div class="price f-fl f-tc">
&yen;<em>{cpdata.signleMoney}</em>
</div>
<div class="ctrl f-fl f-pr f-tc">
<div class="u-counter f-fl number">
<a data-action="down" href="javascript:;" class="btn btn-dis j-x"><i class="u-icn u-icn-27"></i></a>
<span class="tot">
<input type="text" class="text f-fs1 j-x" value={cpdata.num}>
</span>
<a data-action="plus" href="javascript:;" class="btn j-x"><i class="u-icn u-icn-28"></i></a>
</div>
<div class="s-fcTheme f-mgt30 f-fs12">{this.getUnavalibleInfo(cpdata)}</div>
</div>
<div class="price line f-fl f-tc">&yen;{this.multiPrice(cpdata.signleMoney,cpdata.num)}</div>
<div class="delete f-fl" on-click={this.onDelete()}>
</div>
</div>
<div class="cover f-pa"></div>
</li>
</script>
<script id="orderCardTpl" type="text/regular">
<tbody class="{this.getProdClass()}">
<tr class="head">
<td colspan="6">订单编号:{order.id}</td>
</tr>
<tr>
{#if order.orderType==0}
<m-order-prod order={order} />
{#else}
<m-order-prod order={order} prod={order.orderGoodInfos[0]} />
{/if}
{#if !(order&&order.extJsonInfo && order.extJsonInfo.vipDrawOrder && order.extJsonInfo.vipDrawOrder == 1)}
<td rowspan="{this.getProdNum()}" class="txtAlign">
<p class="price s-fc1">{#if !this.isPaidPoint()}&yen;{/if}<em>{#if order.tradeAmountType==0 && order.extJsonInfo.paidPoint}{order.extJsonInfo.paidPoint}{#else}{order.tradeAmount}{/if}</em>{#if this.isPaidPoint()}积分{/if}</p>
{#if this.isShowExpress()}
<p class="express s-fc4">(含运费：&yen;<em>{order.extJsonInfo.expressPrice}</em>)</p>
{/if}
{#if this.isShowDiscount()}
<p class="express s-fc4">(折减：&yen;<em>{order.extJson.OrderDiscountFeeKey}</em>)</p>
{/if}
</td>
{/if}
<td rowspan="{this.getProdNum()}" class="txtAlign">
{#if order.status == 0}
<p>请在<em class="s-fcTheme">{countDown}</em>内付款</p>
{#else}
<p class="{this.statusColor()}">{this.formatStatus()}</p>
{/if}
<a href="/store/my/orderdetail?id={order.id}" class="link">订单详情</a>
{#if this.isShowLogistics()}
{/if}
</td>
<td rowspan="{this.getProdNum()}" class="txtAlign">
{#if order.status == 0}
<a class="payBtn u-btn u-btn-red" href="javascript:;" on-click={this.payNow()}>立即支付</a>
{/if}
{#if this.isShowCancel()}
<a href="javascript:;" class="s-fc4" on-click={this.cancel()}>取消订单</a>
{/if}
{#if this.isShowBugAgain()}
<a href="javascript:;" class="" on-click={this.bugAgain()}>再次购买</a>
{/if}
</td>
</tr>
{#if order.orderType!=0}
{#list order.orderGoodInfos as item}
{#if !item.isFirst}
<tr><m-order-prod order={order} prod={item} /></tr>
{/if}
{/list}
{/if}
<tr class="bottom">
<td colspan="6"></td>
</tr>
</tbody>
</script>
<script id="orderProdTpl" type="text/regular">
<td>
<a class={this.getHoverClass('cover')} on-click={this.goToProduct()}>
<img class="f-img" src="{prod.goodSimpleInfo.skuPicUrl}?param=80x9999">
</a>
</td>
<td>
<a class={this.getHoverClass('tit s-fc1 f-thide')} on-click={this.goToProduct()}>
{#if this.isLottery()}<span class="tag u-tag">抽奖</span>{/if}
{#if this.isPresale()}<span class="tag u-tag u-tag-presale">预售</span>{/if}
{#if this.isVip()}
{this.getVipTitle()}
{#elseif this.isRadio()}
{this.getRadioName()}
{#else}
{prod.goodSimpleInfo.name}
{/if}
{#if this.isDonee()}<i class="u-tag">赠</i>{/if}
</a>
{#if this.isPresale() && this.isPayed()}
<p class="sku s-fcTheme f-thide">
预计发货时间：{this.formatTime(prod.extJsonInfo.scheduleDeliverTime, 'yyyy-MM-dd')}
</p>
{/if}
{#if this.isShowSku()}
<p class="sku s-fc4 f-thide">
{#list prod.goodSimpleInfo.attrs as attr}{attr.attrValue}&nbsp;{/list}
</p>
{/if}
{#if this.isYunPan()}
<p class="sku s-fc4 f-thide">{prod.goodSimpleInfo.description}</p>
{/if}
{#if this.isDigital() || this.isSong()}
<p class="sku s-fc4 f-thide">{prod.artistName}</p>
{/if}
{#if this.isNewAlbum()}
<p class="sku s-fc4 f-thide">{prod.extJsonInfo.resourceMeta.digitalAlbumInfo.artistName}</p>
{/if}
{#if this.isShowStart()}
<p class="time s-fc4 f-thide">时间:
<span id="concert" data-skutime="{prod.goodSimpleInfo.showTicketStartTime}" data-starttime="{prod.goodSimpleInfo.showTicketStartTime}" data-title="{prod.goodSimpleInfo.name}" data-isshowstart="1">{this.formatTime(prod.goodSimpleInfo.showTicketStartTime)}</span>
</p>
<p class="sku s-fc4 f-thide">地点:{#if prod.concert&&prod.concert.address}{prod.concert.address.address}{#else}暂无地点信息{/if}</p>
{#elseif this.isConcert()}
<p class="sku s-fc4 f-thide">时间:
{#list prod.goodSimpleInfo.attrs as attr}
{#if attr.attr=="场次"}
<span id="concert" data-skutime="{attr.attrValue}" data-starttime="{concert.time||''}" data-title="{prod.goodSimpleInfo.name||''}">{attr.attrValue||'暂无时间'}</span>
{/if}
{/list}
</p>
<p class="sku s-fc4 f-thide">地点:{#if prod.concert&&prod.concert.address}{prod.concert.address.address}{#else}暂无地点信息{/if}</p>
{/if}
{#if this.isMscFestival() && this.hasDetailInfo()}
<p class="sku s-fc4 f-thide">场次:{prod.goodSimpleInfo.attrs[0].attrValue}</p>
{/if}
{#if this.isDonee()}
<p class="sku s-fc4 f-thide">送给&nbsp;<em class="s-fcLink">{prod.extJsonInfo.doneeName}</em></p>
{/if}
</td>
<td class="txtAlign" colspan={this.getVipDrawOrder()}>
{#if !(prod && prod.extJsonInfo && prod.extJsonInfo.vipDrawOrder && prod.extJsonInfo.vipDrawOrder == 1)&& !(order.extJsonInfo && order.extJsonInfo.proSource && order.extJsonInfo.proSource == 1)}
<p class="price s-fc1">{#if !this.isPaidPoint()}&yen;{/if}<em>{this.getSingleAmount()}</em>{#if this.isPaidPoint()}积分{/if}</p>
{/if}
{#if this.isShowQuantity()}<p class="s-fc4 num">x <em>{prod.num}</em></p>{/if}
</td>
</script>
<script id="orderCardNew" type="text/regular">
<tbody class={order.business === 'Tickets' ? 'order order-concert' : 'order'}>
<tr class="head">
<td colspan="6">订单编号:{order.orderID}</td>
</tr>
<tr>
<m-order-prod-new order={order} prod={order.itemStructs[0]} />
<td rowspan="{this.getProdNum()}" class="txtAlign">
<p class="price s-fc1"><em>&yen;{order.amount}</em></p>
<p class="express s-fc4">
{#if order.business === "retail" || order.business === "Retail"}
(含运费：&yen;<em>{order.extJson.expressPrice}</em>)
{/if}
</p>
</td>
<td rowspan="{this.getProdNum()}" class="txtAlign">
{#if order.status == 0}
<p>请在<em class="s-fcTheme">{countDown}</em>内付款</p>
{#else}
<p class="{this.statusColor()}">{this.formatStatus()}</p>
{/if}
<a href="/store/my/orderdetail?id={order.orderID}" class="link">订单详情</a>
</td>
<td rowspan="{this.getProdNum()}" class="txtAlign">
{#if order.status == 0 && !(order.business === 'Vip' && (order.type === 3 || order.type === 4))}
<a class="payBtn u-btn u-btn-red" href="javascript:;" on-click={this.payNow()}>立即支付</a>
{/if}
{#if this.isShowCancel()}
<a href="javascript:;" class="s-fc4" on-click={this.cancel()}>取消订单</a>
{/if}
{#if this.isShowBugAgain()}
<a href="javascript:;" class="" on-click={this.bugAgain()}>再次购买</a>
{/if}
</td>
</tr>
{#if order.orderType!=0}
{#list order.itemStructs as item}
{#if item_index > 0}
<tr><m-order-prod-new order={order} prod={item} /></tr>
{/if}
{/list}
{/if}
<tr class="bottom">
<td colspan="6"></td>
</tr>
</tbody>
</script>
<script id="orderProdNew" type="text/regular">
<td>
<a class="cover" on-click={this.goToProduct()}>
<img class="f-img" src="{prod.icon}?param=80x9999">
</a>
</td>
<td>
<a class="tit s-fc1 f-thide" on-click={this.goToProduct()}>
{prod.description}
</a>
{#if this.isConcert()}
<p class="time s-fc4 f-thide">时间:
<span>{this.getConcertTime()}</span>
</p>
<p class="sku s-fc4 f-thide">
地点：{this.getConcertAddress()}
</p>
{#else}
<p class="sku s-fc4 f-thide">
{this.getAttrs()}
</p>
{/if}
</td>
<td class="txtAlign" colspan=1>
<p class="price s-fc1">&yen;<em>{this.getSingleAmount()}</em></p>
<p class="s-fc4 num">x <em>{prod.quantity}</em></p>
</td>
</script>
<script id="pagerTmp" type="text/regualr">
<div class='m-page {clazz}'>
<a href='javascript:;' de-click={ this.nav(current-1)} class='zbtn zprv {current==1? "js-disabled": ""}'></a>
{#if total - 5 > show * 2}
<a href='javascript:;' de-click={ this.nav(1)} class='zpgi {current==1? "js-selected": ""}'>1</a>
{#if begin > 2}<i>...</i>{/if}
{#list begin..end as i}
<a href='javascript:;' de-click={ this.nav(i)} class='zpgi {current==i? "js-selected": ""}'>{i}</a>
{/list}
{#if (end < total-1)}
<i>...</i>
{/if}
<a href='javascript:;' de-click={ this.nav(total)} class='zpgi {current==total? "js-selected": ""}'>{total}</a>
{#else}
{#list 1..total as i}
<a href='javascript:;' de-click={ this.nav(i)} class='zpgi {current==i? "js-selected": ""}'>{i}</a>
{/list}
{/if}
<a href='javascript:;' de-click={this.nav(current + 1)} class='zbtn znxt {current==total? "js-disabled": ""}'></a>
</div>
</script>
<script id="selectTmp" type="text/regualr">
<div class="m-select f-pr" on-mouseenter={this.show()} on-mouseleave={this.hide()} delegate-click={this.act($event)}>
{#if isLogin}
<img class="avatar" src="{avatarUrl}?param=36y36">
{#else}
<div class="login">登录</div>
{/if}
<ul r-hide={!isShow}>
{#list item as x}
<li data-action={x.action} {#if x.action == 'logout'}class="bort"{/if}>
<a class="f-pr s-fc0"><em class="{x.className}"></em>{x.name}<span class="f-pa"></span></a>
</li>
{/list}
</ul>
<i r-hide={!isShow} class="arr"></i>
</div>
</script>
<script id="searchlayertpl" type="text/regualr">
<div on-keyup={this.onKeyUp($event)}>
<div class="inputwrap">
<form class="f-pr" action="" on-submit={this.search()}>
<input type="txt" class="searchbox" autocomplete="off" r-model={searchValue} on-input={this.suggest()} on-focus={this.focus()} on-blur={this.lostFocus()} ref="searchNode" ref=input placeholder="{placeholderTip}" />
</form>
</div>
<div class="wrap" on-mouseenter={this.mouseEnter()} on-mouseleave={this.mouseLeave()}>
{#if this.isHistoryShow()}
<div class="m-hot-search-words">
<div class="shadow"></div>
<h2>热门搜索</h2>
<ul class="list">
{#list hotSearchWords as word}
<li r-class={{'z-sel':current === word_index + 1}} on-click={this.search(word, word_index, 'hot')} on-mouseenter={this.hotEnter(word_index)} on-mouseleave={this.allLeave()}>{word}</li>
{/list}
</ul>
</div>
<div class="m-search-history">
{#if history.length > 0}
<h2>最近搜索</h2>
<ul class="list">
{#list history as hy}
<li class="f-pr {current === hy_index + 1 + hotLength ? 'z-sel' : ''}" on-mouseenter={this.hyEnter(hy_index)} on-mouseleave={this.allLeave()}><p class="cnt f-thide" on-click={this.search(hy)}>{hy}</p><span class="btn f-pa" on-click={this.delHistory(hy_index)}><i>x</i></span></li>
{/list}
</ul>
{/if}
</div>
{#elseif this.isSuggestShow()}
<div class="m-search-suggest">
<h2 class="curr s-fc999 {current === 1 ? 'z-sel' : ''}" on-click={this.search(searchValue)} on-mouseenter={this.sugEnter('sp')} on-mouseleave={this.allLeave()}>搜索 &quot; <i style="color:#0c73c2">{searchValue}</i> &quot;相关商品</h2>
<ul class="list">
{#list suggestWords as sw}
<li class="f-pr {current === sw_index + 2 ? 'z-sel' : ''}" on-mouseenter={this.sugEnter(sw_index)} on-mouseleave={this.allLeave()}><p class="cnt f-thide" on-click={this.search(sw.txt, sw_index)} r-html={sw.html}></p></li>
{/list}
</ul>
</div>
{/if}
</div>
</div>
</script>
<script id="searchlisttpl" type="text/regular">
<div class="m-searchlist" id="search-list"></div>
{#if !obj.products || (obj.products && obj.products.length<=4)}
<div class="m-recommendlist">
<div id="recommend-list" class="m-block"></div>
</div>
{/if}
</script>
<script id="recommendtpl" type="text/regular">
<div class="mid-border">
<span class="mid-txt2">热门推荐</span>
</div>
<m-recommend-list num={num}/>
</script>
<script id="hotrtpl" type="text/regular">
<h2 class="f-ff2">热门推荐</h2>
<ul>
{#list this.data.list as item}
<li>
<div class="cover">
<img data-src='{item.products.coverUrl}"?param=100y100"' src='{item.products.coverUrl}"?param=100y100"' class="j-lazy f-img z-loaded">
</div>
<div class="cnt">
<p class="f-fs14 f-thide">{item.name}</p>
<p class="f-fs14 s-fc6">$6.00</p>
</div>
<a href="/store/product/detail?id={item.productId}" class="f-li nk" data-action="adclick"></a>
</li>
{/list}
</ul>
</script>
<script id ="filterlist" type="text/regular">
<div class="m-product" r-hide={isFilterLayerShow}>
<ul class="list f-cb">
{#if column == 3}
{#list list as item by item_index}
<li data-action="bircd" data-index={item_index} {#if (item_index+1)%3 == 0}style="padding-right:0;"{/if}><m-card ref="card" obj={item} index={item_index} isNeedLazyLoad={isNeedLazyLoad}/></li>
{/list}
{#else}
{#list list as item by item_index}
<li data-action="bircd" data-index={item_index} {#if (item_index+1)%4 == 0}style="padding-right:0;"{/if}><m-card ref="card" obj={item} index={item_index} isNeedLazyLoad={isNeedLazyLoad}/></li>
{/list}
{/if}
</ul>
{#if list&&list.length == 0&&this.needEmptyTip()}
<div class="m-unfind">
<div class="icon"></div>
</div>
{/if}
</div>
{#if this.isWaterType()}
<m-water-jump on-pagerjump={this.jump($event)} />
{/if}
<div r-hide="{!isShowPager}">
<pager ref='pager' class="{total}" total={Math.ceil(total/query.limit)} current={current}></pager>
</div>
</script>
<script id="listftpl" type="text/regular">
<div class="m-navtab j-fix">
<div class="s-brdb1">
<ul>
<li>
<a href="javascript:void(0)" {#if this.isSelected(filterList[0])}class="s-fc1"{/if} on-click={this.onHeaderSelected(filterList[0])}><em>综合</em></a>
</li>
<li class="point"></li>
<li>
<a href="javascript:void(0)" data-action="pricesort" {#if this.isSelected(filterList[1])}class="s-fc1"{/if} on-click={this.onHeaderSelected(filterList[1])}>
<em>价格低到高</em>
</a>
</li>
<li class="point"></li>
<li>
<a href="javascript:void(0)" data-action="pricesort" {#if this.isSelected(filterList[2])}class="s-fc1"{/if} on-click={this.onHeaderSelected(filterList[2])}>
<em>价格高到低</em>
</a>
</li>
{#if filterType == 2}
<li class="s-brdl1">
{this.onHeaderSelected(filterList[3])}
</li>
{/if}
</ul>
</div>
</div>
</script>
<script id="filterlayertpl" type="text/regular">
<div class="n-filter" r-hide={!isFilterLayerShow}>
<div class="g-wrap">
<div class="g-inner">
{#list list as item}
{#if item.title=="品牌"}
<div class="tags f-cb">
<div class="f-cb">
<span class="title">{item.title}:</span>
<ul class="brand f-cb">
{#list item.value as unit}
{#if barndNoLimit||unit_index <brandLimit}
<li><a on-click={this.onItemSelect(unit,item.value,true)} {#if unit.selected}class="tag f-bd2 z-slt"{#else}class="tag f-bd2" {/if}>{unit.brandName}</a></li>
{/if}
{/list}
</ul>
{#if item.value.length > brandLimit&&!barndNoLimit}
<span on-click={barndNoLimit=true} class="more">更多<i></i></span>
{/if}
{#if barndNoLimit}
<span on-click={barndNoLimit=false} class="more less">收起<i></i></span>
{/if}
</div>
{#if this.hasSelected(item.title)}
<div class="btnwrap">
<span href="javascript:void(0)" class="btn s-fc1" on-click={this.reset(item.title)}>重 置</span>
</div>
{/if}
</div>
{/if}
{#if item.title == "分类"}
<div class="tags f-cb">
<div class="f-cb">
<span class="title">{item.title}:</span>
<ul class="f-cb">
{#list item.value as unit}
<li><a on-click={this.onItemSelect(unit,item.value,true)} {#if unit.selected}class="tag f-bd2 z-slt"{#else}class="tag f-bd2" {/if}>{unit.kindname}</a></li>
{/list}
</ul>
</div>
{#if this.hasSelected(item.title)}
<div class="btnwrap">
<span href="javascript:void(0)" class="btn s-fc1" on-click={this.reset(item.title)}>重 置</span>
</div>
{/if}
</div>
{/if}
{#if item.title=="价格"}
<div class="tags f-cb end">
<span class="title">{item.title}:</span>
<ul class="f-cb">
{#list item.value as unit}
{#if unit_index < (item.value.length-2)}
<li><a on-click={this.onItemSelect(unit,item.value,false)} {#if unit.selected}class="tag f-bd2 z-slt"{#else}class="tag f-bd2" {/if}>{unit.begin}~{unit.end}</a></li>
{/if}
{/list}
<li class="diy">
<span class="txt f-fl">自定义</span>
<span on-click={this.onItemSelect(this.getCPriceObj(item.value,1),item.value,false)} class="f-fl">
<input type="text" on-keyup={this.onCustomBulr($event,item.value)} r-model="this.getCPriceObj(item.value,1).begin" placeholder="¥">
</span>
<span class="to f-fl"> — </span>
<span on-click={this.onItemSelect(this.getCPriceObj(item.value,2),item.value,false)} class="f-fl">
<input type="text" on-keyup={this.onCustomBulr($event,item.value)} r-model="this.getCPriceObj(item.value,2).end" placeholder="¥">
</span>
</li>
<li class="diy">
{#if isComplete}
<span on-click={this.complete()} class="btn">确定</span>
{#else}
<span class="btn z-dis">确定</span>
{/if}
</li>
</ul>
</div>
{/if}
{/list}
</div>
</div>
</div>
</script>
<script id="cp-numcounttpl" type="text/regular">
{#if cnum > min}
<span on-click={this.minus()}>minus</span>
{#else}
<span>minus diable</span>
{/if}
<input type="number" r-model={cnum} />
{#if cnum < max}
<span on-click={this.add()}>plus</span>
{#else}
<span>plus disabled</span>
{/if}
</script>
<script id ="myOrderTpl" type="text/regular">
<div>
</div>
</script>
<script id ="orderTabTpl" type="text/regular">
<div class="m-tab">
<ul class="s-brdb1" id="tab">
{#list this.data.tabList as item}
<li><a {#if this.isSelected(item.id)}class="z-sel"{/if} href="javascript:;" on-click={this.onSelected(item.id)} title="{this.getTabName(item.id)}">{this.getTabName(item.id)}</a></li>
{/list}
</ul>
</div>
</script>
<script id="orderListTpl" type="text/regular">
<div class="{this.toggleHide('loading')}">加载中……</div>
<div class="{this.toggleHide('list')}">
{#if list.length > 0}
<table class="m-orderList">
<colgroup>
<col class="coverCol">
<col class="prodCol">
<col class="priceCol">
<col class="totalCol">
<col class="infoCol">
<col class="optionCol">
</colgroup>
{#list list as item}
{#if item.fromNewPlatform}
{#if item.orderingDocument.status != 3}
<m-order-new order={item.orderingDocument} fromNewPlatform={item.fromNewPlatform} crtItem={crtItem} />
{/if}
{#else}
{#if item.legacyOrder.status != 3}
<m-order-card order={item.legacyOrder} enhanceUseIap={enhanceUseIap} crtItem={crtItem} />
{/if}
{/if}
{/list}
</table>
{#else}
<div class="empty">
<i class="icn"></i>
<p class="f-tc f-fs20 s-fc666">您当前没有{this.getListType()}订单</p>
</div>
{/if}
<div r-hide="{!isShowPager}">
<pager ref='pager' class="{query.total}" total={Math.ceil(query.total/query.limit)} current={current}></pager>
</div>
</div>
</script>
<script id="cp-afacadetpl" type="text/regular">
<div class="m-address-front">
{#if !this.isHasAddress() && !this.isYongle()}
{#if !this.isTicket()}
<div class="u-addr-empty" ref="add">
<div class="bggray s-fc999"><span>收货地址</span></div>
<newaddress on-allright={this.onAddrChoose($event)} />
</div>
{#else}
<ticketinfo ticketinfo={this.data} on-allright={this.updateIdInfo($event)} />
{/if}
{#else}
{#if this.data.cpdata.type != 2}
{#if this.isYongle()}
<div class="m-address f-pr concert">
<div class="bggray">
<span>收货信息</span>
</div>
<div class="deliverymes">
<div class="msg">
<span class="f-ib f-thide"><em>配送方式&nbsp;:&nbsp;</em></span>
<div class="f-ib">
<span class="content check-box">
<span {#if !cpdata.pickUpMsg || cpdata.pickUpMsg.kdps_dispatchWay == 0} class="s-fc999 dis" {#else} class={this.getClazz(0)} on-click={this.setSelected(0)} {/if}><i></i>&nbsp;快递配送</span>
<span {#if !cpdata.pickUpMsg || cpdata.pickUpMsg.smzq_dispatchWay == 0}class="s-fc999 dis" {#else} class={this.getClazz(1)} on-click={this.setSelected(1)} {/if}><i></i>&nbsp;上门自取</span>
</span>
</div>
</div>
{#if deliveryStatus == 0}
{#if !this.isHasAddress()}
<div class="u-addr-empty" ref="add">
<newaddress on-allright={this.onAddrChoose($event)} />
</div>
{#else}
<div class="msg">
<span class="f-ib f-thide"><em style="letter-spacing:6px;">收货人:</em>{this.unescape(this.data.cpdata.name)}</span>
</div>
<div class="msg">
<span class="f-ib f-thide"><em>联系方式&nbsp;:&nbsp;</em>{this.data.cpdata.cellphone}</span>
</div>
<div class="address">
<p class="txt f-thide"><em>收货地址&nbsp;:&nbsp;</em>{this.data.cpdata.provinceCity}{this.unescape(this.data.cpdata.detailAddress)}<a class="limodify f-ib f-fs14" on-click={this.modifyAddr()}>修改</a></p>
</div>
<div class="line f-pa"></div>
<div class="modify f-pa">
<a href="javascript:;" class="s-fcff f-blk" on-click={this.changeAddr()}>更换收货地址</a>
<a href="javascript:;" class="btn-b f-mgt5 f-blk" on-click={this.buildAddr()}>新建地址</a>
</div>
{/if}
{#else}
<div class="delivery">
<div class="msg pick">
<span class="f-ib f-thide"><em style="letter-spacing:6px;">取货人:</em></span>
<input placeholder="请输入取货人姓名" name="realName" class="u-txt f-fs14" r-model={pick.name}/>
</div>
<div class="msg pick">
<span class="f-ib f-thide"><em>联系方式&nbsp;:&nbsp;</em></span>
<input placeholder="请输入取货人手机号" name="cellphone" class="u-txt f-fs14" r-model={pick.cellphone}/>
</div>
</div>
<div class="delAddress">
<div class="msg">
<span class="f-ib f-pr"><em class="addrLabel">取票地址&nbsp;:&nbsp;</em><span class="pickaddress">{this.unescape(pick.pickUpAdress)}</span></span>
<p class="f-fs5 tip">{this.unescape(pick.pickUpTip)}</p>
</div>
</div>
{/if}
</div>
</div>
{#else}
<div class="m-address f-pr">
<div class="bggray">
<span>收货信息</span>
</div>
<div class="head">
{#if this.data.cpdata.prop === 1}
<span class="f-ib"><i></i><em>默认地址</em></span>
<a class="btn btn-b f-mgl20 f-ib f-fs12" on-click={this.modifyAddr()}>修改</a>
{#else}
<a class="btn btn-b f-ib" on-click={this.modifyAddr()}>修改</a>
{/if}
</div>
<div class="msg">
<span class="f-ib f-thide"><em style="letter-spacing:6px;">收货人:</em>{this.unescape(this.data.cpdata.name)}</span>
<span class="phone f-ib f-thide"><em>联系方式&nbsp;:&nbsp;</em>{this.data.cpdata.cellphone}</span>
</div>
<div class="address">
<p class="txt f-thide"><em>收货地址&nbsp;:&nbsp;</em>{this.data.cpdata.provinceCity}{this.unescape(this.data.cpdata.detailAddress)}</p>
</div>
<div class="line f-pa"></div>
<div class="modify f-pa">
<a href="javascript:;" class="s-fcff f-blk" on-click={this.changeAddr()}>更换收货地址</a>
<a href="javascript:;" class="btn-b f-mgt5 f-blk" on-click={this.buildAddr()}>新建地址</a>
</div>
</div>
{/if}
{#else}
<div class="m-address m-id f-pr">
<div class="bggray s-fc999">
<span>{#if cpdata.isShowStart}身份信息{#else}收货信息{/if}</span>
</div>
{#list cpdata as item}
<div class="f-pr {cpdata.isShowStart?'noid':''}">
<div class="msg">
<span class="f-ib f-thide"><em style="letter-spacing:6px;">购票人:</em>{item.realName}</span>
<span class="f-mgl f-ib f-thide"><em>联系方式&nbsp;:&nbsp;</em>{item.cellphone}</span>
</div>
{#if !cpdata.isShowStart}
<div class="address">
<p class="txt f-thide"><em style="letter-spacing:6px;">身份证:</em>{item.idNumber}</p>
</div>
{/if}
<a class="btn btn-b f-ib f-pa" on-click={this.modifyId(item_index)}>修改</a>
</div>
{/list}
</div>
{/if}
{/if}
</div>
</script>
<script id="cp-numtpl" type="text/regular">
<div class="u-counter f-fl number">
<a data-action="down" href="javascript:;" {#if cnum > min + 1}class="btn j-x" on-click={this.minus()} {#else} class="btn btn-dis j-x" {/if}><i class="u-icn u-icn-27"></i></a>
<span class="tot">
<input type="text" class="text f-fs1 j-x" r-model={cnum} on-keyup={this.inputChange()} on-blur={this.onblur()}>
</span>
<a data-action="plus" href="javascript:;" {#if cnum < max}class="btn j-x" on-click={this.add()} {#else}class="btn btn-dis j-x"{/if}><i class="u-icn u-icn-28"></i></a>
</div>
</script>
<textarea name="ntp" id="w-form-simple-file"><div>
<div class="j-file-btn filebtn btn u-btn1 f-fl">选择文件</div>
<div class="info u-box f-fl f-pr f-hide">
<span class="j-file-name f-fl f-hide"></span>
<span class="j-file-err s-fc5 f-fr f-hide">上传失败，请重试</span>
<i class="j-file-loading icn u-icn f-hide u-icn-loading f-hide"></i>
</div>
</div>
</textarea>
<script type="text/regular" id="imguptpl">
<div class="upload-pic">
{#if this.isEmptyImage()}
<label class="upload {className}" on-click="{this.onblankClick()}" ref="up"></label>
{#else}
<span class="pic f-pr {className}">
<img src="{imgsrc}?param={param}" class="j-img" data-key={docId}>
<i on-click="{this.onclose(docId)}"></i>
</span>
{/if}
<p class="des">{des}</p>
</div>
</script>
<script type="text/regular" id="progresstpl">
<div class="u-progress {clazz}" r-hide={!isShow}>
<div class="progress_bar" style="width: {percent}%;">{text ? (text === true ? percent + '%' : text) : ''}</div>
</div>
</script>
<script name="imgcard" type="text/regular" id="imgcardtpl">
<div class="m-imgcard" r-hide={!isShow}>
<div class="mask"></div>
<div class="img-wrap">
<div class="img">
<table>
<tbody>
<tr>
<td class="f-pr">
<img class="j-flag" src="{items[index]}?param=500x0">
<div class="block prev {index > 0 ? 'left' : ''}" on-click={this.nav(index-1)}></div>
<div class="block next {index < items.length - 1 ? 'right' : ''}" on-click={this.nav(index+1)}></div>
<button class="close" on-click={this.close()}>X</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</script>
<script name="slider" type="text/regular" id="slider">
<div on-mouseenter="{this.stopAction()}" on-mouseleave="{this.goOnAction()}">
<ul class="f-cb f-pr">
{#list items as item}
<li style="background-image:url({item.backendPicStr});" class="f-pa {active==item_index? 'active': ''}" data-pos="{item_index + 1}" data-id="{item.id}" data-url="{item.url}">
{#include theme}
</li>
{/list}
</ul>
<div class="dots">
{#list items as item}
<a data-action="go" href="javascript:;" on-click={this.nav(item_index)} class="{active==item_index? 'z-sel': ''}"></a>
{/list}
</div>
<div class="point">
<a data-action="goleft" href="javascript:;" class="left" on-click={this.nav(active-1)}><i class="tk"></i></a>
<a data-action="goright" href="javascript:;" class="right" on-click={this.nav(active+1)}><i class="tk"></i></a>
</div>
</div>
</script>
<script id="couponslttpl" type="text/regular">
<div class="m-wrapper">
<m-textinput on-success={this.updateValid()} validCount={validUserCoupons.length + invalidUserCoupons.length} showIntro={showIntro} isShowCoupon={isShowCoupon} />
<div class="coupon-box coupon-scroll">
{#if validUserCoupons&&validUserCoupons.length>0}
<div class="m-coupons">
<ul>
{#list validUserCoupons as coupon}
<m-coupon-item coupon={coupon} iselect={true} on-selectCoupon={this.selectCoupon($event)} />
{/list}
</ul>
</div>
{#else}
<div class="no-coupon f-tc {isShowNone ? '' : 'f-hide'}">
<i></i>
<em>暂无优惠券</em>
</div>
{/if}
{#if invalidUserCoupons&&invalidUserCoupons.length>0}
<div class="m-coupons">
<div class="u-middle f-pr f-tc">
<div class="line f-pa"></div>
<span class="f-pa f-fs14 s-fc999">不适用当前订单</span>
</div>
<ul>
{#list invalidUserCoupons as coupon by item_index}
<m-coupon-item coupon={coupon} expires={true} isselect={true}/>
{/list}
</ul>
</div>
{/if}
</div>
</div>
</script>
<script id="textinputtpl" type="text/regular">
<div class="m-coupon-header f-pr">
<p class="tit f-fs16">
<span>我的优惠券({validCount||0})</span>
{#if showIntro}
<a href="/store/couponintroduction" class="s-fcLink f-pr f-fs12">优惠券说明 ></a>
{/if}
</p>
{#if !isShowCoupon}
<div class="m-input f-pa">
<form on-submit={this.submit($event)}>
<input class="input" type="text" r-model={couponCode} on-change={this.handleChange()} placeholder="请输入兑换码">
<a href="" class="btn" on-click={this.submit($event)}>兑换</a>
</form>
</div>
{/if}
</div>
</script>
<script id="couponitemtpl" type="text/regular" isolate>
<li class="{coupon.selected ? 'z-selected' : ''} f-pr">
<div class="u-coupon f-cb f-fs14 {expires ? 'z-ds' : ''}" {#if iselect}on-click={this.handleClick(coupon)} style="cursor: pointer;" {/if}>
<div class="side">
{#if coupon.status==2}
<span class="tag overtime"></span>
{#elseif coupon.newFlag==1}
<span class="tag new"></span>
{/if}
{#if this.isShowCoupon()}
<div class='show-coupon'>
<div class='f-fs16 show-coupon-tag'>立减</div>
<div class='f-fs34 show-coupon-discount'>{this.getShowCouponDiscount()}</div>
</div>
{#else}
<div class="value f-fs40">
{#if coupon.effectAction.effectType ==1}
&yen;{coupon.effectAction.effectValue}
{#elseif coupon.effectAction.effectType == 2}
{coupon.effectAction.effectValue}折
{#else}
包邮券
{/if}
</div>
{/if}
<div class="des f-fs20 s-fc999">{coupon.desc}</div>
</div>
<div class="cont">
<div class="name f-fs20">
{#if coupon.couponLabel}
<i class="tag f-fs14">{coupon.couponLabel}</i>
{/if}
{coupon.couponName}
</div>
{#if (!expires && !iselect && !this.isShowCoupon())}
<a href="javascript:;" class="btn marg f-fr" on-click={this.goPage()}>去使用</a>
{/if}
<p class="time s-fc999">
{#if coupon.welfareType == 0 || viewOnly}
{#if coupon.fixDay && coupon.fixDay > 0}
有效期: 领取后{coupon.fixDay}天内
{#else}
{(coupon.validStartTime||coupon.startTime) | format:'yyyy.MM.dd'} - {(coupon.validEndTime||coupon.endTime) | format:'yyyy.MM.dd'} &nbsp;&nbsp;
{/if}
{#else}
{coupon.countdown}
{/if}
{#if coupon.status==-1}
已过期
{#elseif coupon.status == -2}
已使用
{/if}
</p>
<p class="des s-fc666 {viewOnly ? 'f-thide' : 'f-thide2'}" ref="coupondes">{coupon.couponDesc}</p>
{#if isShowTip && viewOnly}
<div class="coupon-hover" on-mouseenter={this.showDetail(true)} on-mouseleave={this.showDetail(false)}>
{#if isShowDetail}
<div class="description">
<span class="arr"></span>
{coupon.couponDesc}
</div>
{/if}
</div>
{/if}
</div>
<span class="up circle"></span>
<span class="down circle"></span>
{#if coupon.selected}
<span class="selected"></span>
{/if}
</div>
</li>
</script>
<script id="antiover" type="text/regular" isolate>
<div class="m-layer m-layer-reward m-popwin-antiover" style="position:fixed;left:35%;top:35%;">
<div class="zbar">
<div class="zttl">安全验证</div>
</div>
<div class="zcnt">
<div class="put f-cb f-pr">
<input type="text" class="js-txt u-txt2" placeholder="请输入验证码" ref="inp">
<img src={this.getCaptchaImgUrl()} class="hint" on-click="{this.imgRefresh()}"/>
</div>
<div r-hide={!verror} class="s-fc6 u-verifyerror">验证码错误，请重新输入</div>
<div class="f-mgt20">
<span class="js-next u-btn-new u-btn-new2" on-click={this.verifyCaptcha()}><i>确定</i></span>
<span class="u-btn u-btn-line" on-click={this.onClose()}>取消</span>
</div>
</div>
</div>
</script>
<script id="videocp" type="text/regular">
<div class="m-video f-pr">
<div ref="videoCover">
{#if videoInfo.coverUrl}
<img src="{videoInfo.coverUrl}?param=700y9999" class="f-pa f-img" alt="">
{/if}
<div class="mask f-pa"><h4 class="f-thide f-fs20 s-fcFFF"></h4></div>
<a href="javascript:;" on-click={this.play()} class="play f-pa"><i class="icn u-icn u-icn-mvplay"></i></a>
</div>
<video ref="video" class="f-hide" preload="metadata" controls="controls" webkit-playsinline="true" playsinline="true" src="{videoUrl.url}" width="700" height="394"></video>
</div>
</script>
<textarea name="ntp" id="m-list-module"><div class="n-index">
<div class="n-banner">
<ul class="f-cb f-pr j-flag" style="width:1400">
<li><a href="/store/product/detail?id="><img src="" alt=""/></a></li>
<li><a href="/store/product/detail?id="><img src="" alt=""/></a></li>
</ul>
<div class="dots j-flag">
<a data-action="go" data-index="0" href="javascript:;"></a>
</div>
<div class="point">
</div>
</div>
<ul class="n-list f-cb j-flag">
</ul>
<div class="j-flag"></div>
</div>
</textarea>
<textarea name="jst" id="m-album-songs">{if songs && songs.length>0 && buysingle}
<h3 class="secondtitle">单曲购买</h3>
<span class="iconpoint">
<a href="javascript:void(0)" class="icon u-icn u-icn-31"></a>
<div class="tip"><!-- icon在hover的时候显示tip -->
<p>购买单曲不参与粉丝榜</p>
<i class="t"></i><i class="b"></i>
</div>
</span>
{var temp = 1}
<ul id="singles-list" class="list">
{list songs as song}
<li class="itm">
<span class="idx f-fl f-fs2">${song_index+1}.</span>
<div class="cnt">
<div class="name f-thide f-fl">
<span class="f-fs1">${song.name}</span>
{if song.tns && song.tns!=''}
<span title="${song.tns}" class="s-fc8"> - ${song.tns}</span>
{else}
{if song.alia.length>0}
<span title="${song.alia[0]}" class="s-fc8"> - ${song.alia[0]}</span>
{/if}
{/if}
</div>
{if song.status==1}
{if canBuy}
<a data-songid=${song.id} data-action="buysingle" href="javascript:;" class="status u-btn u-btn-red">&yen; ${price}
<i class="t"></i><i class="b"></i>
</a>
{else}
<a class="status u-btn u-btn-red z-dis">&yen; ${price}</a>
{/if}
{elseif song.status==2}
<a class="status u-btn u-btn-red z-dis">&yen; ${price}</a>
{else}
<a href="/song?id=${song.id}&autoplay=1" class="play f-fr u-icn u-icn-33"></a>
{/if}
</div>
</li>
{/list}
{/if}
</textarea>
<textarea name="ntp" id="m-detail-module"><div class="n-detail">
<div class="u-loading f-hide j-flag"><i class="icn"></i>加载中...</div>
<div class="f-cb">
<div class="n-display f-fl j-flag">
</div>
<div class="n-info f-fr j-flag">
</div>
</div>
<div class="n-describe j-flag">
</div>
</div>
</textarea>
<textarea name="jst" id="g-service"> <div class="service-layer">
<div class="cnt">
{list usedService as service}
<h5 class="service">${service.tip}</h5>
<p>${service.tipMsg}</p>
{/list}
</div>
<div class="f-tc footer">
<a data-action="ok" class="u-btn-new u-btn-new2">知道了</a>
</div>
</div>
</textarea>
<textarea name="jst" id="m-detail-display"><div class="pic f-pr">
<div class="imgBox" id="imgBox">
<img class="img1 j-flag" src="${picUrls[0]}?param=440y440"/>
<div class="smallmask" id="smallMask"></div>
</div>
<div class="bigimgbox" id="bigImgBox"><img src="${picUrls[0]}?param=640y640"/></div>
{if picUrls.length && product.type==2 && product.specialType!=14}
<span class="arrowleft j-arrow" data-action="arraygol">
<i class="icn u-icn u-icn-arrowl"></i>
</span>
<span class="arrowright j-arrow" data-action="arraygor">
<i class="icn u-icn u-icn-arrowr"></i>
</span>
{/if}
{if picUrls.length&&picUrls.length>1 && product.type==2&& product.specialType!=14}
<div class="u-num ">
<em class="numctn"><em id="j-banneridx">1</em>/${picUrls.length}</em>
</div>
{/if}
</div>
<div class="smnav {if picUrls.length && product.type==2&& product.specialType!=14}{else}f-hide{/if}">
<ul class="f-cb j-flag">
{list picUrls as pic}
<li data-action="go" data-index="${pic_index}"><img class="img1" src="${pic}?param=76y76"/></li>
{/list}
</ul>
</div>
</textarea>
<textarea name="jst" id="m-detail-normal-info"><div class="basic">
<h2 class="f-ff2">{if product.vipLimit==true}<span class="u-tag u-tag-orange">黑胶VIP专属</span>{/if}{if product.exchangeType==1}<span class="u-tag u-tag-blue">抽奖</span>{/if}${product.name}</h2>
{if suggestUrl}
<a href="${suggestUrl}" class="sellpoint" style="text-decoration:underline;">${description|escape}</a>
{else}
{if description}<p class="sellpoint">${description}</p>{/if}
{/if}
{if product.specialType==14&&product.extInfo&&product.extInfo.preSale==0}
<p class="price"><em class="j-flag" style="font-size:20px;">预订期间暂无报价</em></p>
{else}
<p class="price {if product.specialType==5}price-digital{/if}">
${product.priceType|toRmbText}<em class="j-flag">${skus|calcSkuPrice:product,false}</em>${product.priceType|toJifenText}
{if product.useVipPrice==true}
{if calcPriceSize(skus, product, false)}{/if}
<span class="vip f-ib s-fc11">
<span class="vipicn icn u-icn u-icn-pvip12"></span>黑胶VIP: ${product.priceType|toRmb}
<span class="j-vp">${skus|calcVipPrice:product,false}</span>
<!-- 现在不用小问号了
<a class="markicn icn u-icn u-icn-qumark">
<span class="pop"><span class="cxt">该价格仅限黑胶VIP</span></span>
</a>
-->
</span>
{if product.discount}
<sub class="dis"><span class="j-flag j-original" style="display:none;">${product.priceType|toRmb}${skus|calcSkuPrice:product,true}</span>${product.priceType|toJifen}</sub>
{/if}
{else}
{if product.discount}
<sub class="dis">${product.priceType|toRmb}<span class="j-flag j-original">${skus|calcSkuPrice:product,true}</span>${product.priceType|toJifen}</sub>
{/if}
{/if}
</p>
{if showCoupon && showCoupon.couponName && isLogin}
<p class="s-fc999 f-fs14" id="coupon-discount">使用"${showCoupon.couponName}" ,
{if showCoupon.effectAction.effectType == 1}
可省<em class="s-fcTheme">&yen;${showCoupon.effectAction.effectValue}</em>
{else}
享受<em class="s-fcTheme">${showCoupon.effectAction.effectValue}</em>折优惠
{/if}
</p>
{/if}
{/if}
{if specialBigBangTag}
<p class="early"><span class="tag-red"><em>活动</em></span>${specialDesc}</p>
{/if}
{if product.exchangeType!=1}
{if product.specialType==14}
<p class="s-fc3 salesinfo">
{if product.extInfo.restrict==1}
<i class="f-mgr20">每个身份证限购1张门票，每次最多为5人购买</i>
{elseif product.extInfo.restrict>1&&product.extInfo.restrict<6}
<i class="f-mgr20">每个身份证限购${product.extInfo.restrict}张</i>
{else}
{/if}
<em style="color:#cb3b3b;">
{if allStock(skus)<=10&&allStock(skus)>0}
{if product.status!=-1}库存紧张{/if}
{/if}
</em>
</p>
{elseif product.specialType!=6}
{if product.specialType==5}
<p class="desc f-hide s-fc3 j-saleinfo">{if !product.allowDupBuy}限购1件{/if}已售出：<span class="j-flag" id="saleNum">${salesinfo}</span></p>
{elseif product.specialType!=5}
{if sales&&sales>0}
<p class="s-fc3 salesinfo">{if !product.allowDupBuy|| (product.specialType==14&&product.type==0)}<i class="f-mgr20">限购1件</i>{/if}已售出：<span class="j-flag">${sales}</span>件</p>
{else}
<p class="s-fc3 salesinfo">
{if !product.allowDupBuy|| (product.specialType==14&&product.type==0)}<i class="f-mgr20">限购1件</i>{/if}
<em style="color:#cb3b3b;">
{if allStock(skus)<=10&&allStock(skus)>0}
{if product.status!=-1}库存紧张{/if}
{/if}
</em>
</p>
{/if}
{/if}
{/if}
{/if}
{if product.specialType==5}
<div class="count f-mgt5" {if specialBigBangTag}style="margin-top:27px;"{/if}>
<p class="number f-fs1 f-fl">数量</p>
<div id="digital-counter">
<div class="u-counter f-fl">
<a data-action="down" href="javascript:;" class="btn btn-dis j-x"><i class="u-icn u-icn-27"></i></a>
<span class="tot"><input type="text" value="1" class="text f-fs1 j-x"></span>
<a data-action="plus" href="javascript:;" class="btn j-x"><i class="u-icn u-icn-28"></i></a>
</div>
<div style="margin-top:5px;left:-5px;display:none;" class="u-tips-err j-x"><i class="f-ib"></i>请输入要购买的数量</div>
</div>
</div>
{/if}
{if product.exchangeType==1}
<p class="s-fc3 time">开奖时间：${product.drawTime|format:'yyyy-MM-dd HH:mm'}</p>
{/if}
{if product.levelLimit>0}
<p class="level s-fc3 f-fs1"><i class="u-icn u-icn-6"></i>${product.levelLimit}级以上用户专享</p>
{elseif product.vipLimit}
{/if}
{if coupons&&coupons.length>0}
<div class="m-coupons f-cb f-pr">
<div class="title f-pr">促销: </div>
<ul id="coupon-list">
{list coupons as coupon}
<li {if coupon_index == coupons.length - 1}class="lst"{/if}>
{if coupon.couponLabel}
<span class="label">${coupon.couponLabel}</span>
{/if}
<span class="">
{if coupon.effectAction.effectType == 1}
${coupon.effectAction.effectValue}元&nbsp;&nbsp;
{elseif coupon.effectAction.effectType == 2}
${coupon.effectAction.effectValue}折&nbsp;&nbsp;
{else}
包邮券&nbsp;&nbsp;
{/if}
${coupon.couponName},
</span>
<span>
{if coupon.effectAction.actionType == 1}
满${coupon.effectAction.minMoney}元可用
{else}
无门槛
{/if}
</span>
{if coupon.drawStatus == 0 || coupon.drawStatus == 4}
<span class="s-fcLink f-hand" data-action="bindCoupon" data-coupon="${coupon.couponCode}" data-point="${coupon.drawLimit.point}">
{if coupon.drawLimit.drawType == 0}
领券
{else}
${coupon.drawLimit.point}积分兑换
{/if}
</span>
{elseif coupon.drawStatus == 3}
<span class="s-fc999">已领完</span>
{else}
<span class="s-fc999">
{if coupon.drawLimit.drawType == 0}
已领
{else}
已兑换
{/if}
</span>
{/if}
{if coupon_index==0&&coupons.length>1}
<a href="javascript:;" class="f-fr all s-fc666" data-action="toggleShowAllCoupon">全部优惠券(${coupons.length}) <i class="arr" id="coupon-arr"></i></a>
{/if}
</li>
{/list}
</ul>
</div>
{/if}
{if isSKUNew(product)}
<div class="j-newskuctn"></div>
<div class="j-count"></div>
{else}
{if product.skus.length>1}
<div class="fufei fufei-type j-flag">
<div id="sku-select-box" class="select select-time select-sku">
<div class="title f-pr"><i class="u-icn u-icn-9"></i><span class="qin">请</span>选择${product.skus[0].attrs[0].attr}<i data-action="clearSkuErr" class="u-icn u-icn-10"></i></div>
<ul class="f-cb">
{list product.skus as sku}
{var attr = sku.attrs[0]}
<li data-action="selectNormalSku" data-index="${sku_index}" {if sku.stock <= 0}class="z-dis"{else}class="f-pr"{/if}>
${attr.attrValue|formatSkuName}
</li>
{/list}
</ul>
</div>
</div>
{/if}
{/if}
</div>
{if product.serviceType&&product.serviceType[0]!='0'}
<div class="m-services">
<p>服务 : </p>
<div class="cnt" data-action="showService">
{list product.serviceType as service}
{if service!=12 && service !=11}
<a class="service">${service|getTip}</a>
{/if}
{/list}
</div>
</div>
{/if}
{if product.exchangeType==1}
<p>
{if product.vipLimit==true&&vipInfo.vipLevel<11}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding: 0 25px;">仅限黑胶VIP购买</a>
{elseif product.drawTime < (new Date().getTime())}
<a class="u-btn u-btn-gray" href="javascript:;">已结束</a>
{elseif bought}
<a class="u-btn u-btn-gray" href="javascript:;">已参与</a>
{elseif product.vipLimit==true}
<a data-action="buy" class="u-btn u-btn-red" href="javascript:;">我要抽奖</a>
{else}
<a data-action="buy" class="u-btn u-btn-red" href="javascript:;">我要参与</a>
{/if}
</p>
{else}
<p class="buyorjoin j-flag f-cb" id="buyFlag">
{if product.vipLimit==true&&vipInfo.vipLevel<11}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding: 0 25px;">仅限黑胶VIP购买</a>
{elseif product.status==-1 || product.status==1}
{if product.specialType==5}
{if albumfee==8}
<a class="f-fl u-btn u-btn-red f-mgr10" href=${"/album?id="+product.extInfo.albumId}>免费播放</a>
{elseif albumfee==1}
<a class="f-fl u-btn u-btn-red f-mgr10" href="javascript:;" data-action="playForVip">会员免费播放</a>
{else}
<a class="u-btn u-btn-gray" href="javascript:;">已下架</a>
{/if}
{else}
<a class="u-btn u-btn-gray" href="javascript:;">已下架</a>
{/if}
{elseif !product.allowDupBuy&&bought}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding:0 5px;">仅能购买一件</a>
{elseif calcStock(skus)==0}
<a class="u-btn u-btn-gray" href="javascript:;">已售罄</a>
{else}
{if product.specialType==14}
{if product.extInfo.preSale==0&&reserveFlag=="true"}
<a class="f-fl u-btn f-mgr10 u-btn-gray" href="javascript:;">已预订</a>
{elseif product.extInfo.preSale==0}
<a data-action="buyinfixed" class="f-fl u-btn u-btn-red f-mgr10 j-presale" href="javascript:;">立即预订</a>
{else}
<a data-action="buyinfixed" class="f-fl u-btn u-btn-red f-mgr10" href="javascript:;">立即购买</a>
{/if}
{elseif product.type==2 && product.specialType==0 && product.priceType==1}
<a data-action="buy" class="f-fl u-btn u-btn-white f-mgr10 {if product.specialType==15}u-btn-gray{/if}" href="javascript:;">{if product.specialType==5}购买专辑{else}立即购买{/if}</a>
{else}
{if product.specialType==5}
{if !canBuy}
<a class="f-fl u-btn u-btn-red f-mgr10" href="javascript:;" style="width:200px;background-color:#bfbfbf;">仅限中国大陆用户购买</a>
{else}
<a data-action="buy" class="f-fl u-btn u-btn-red f-mgr10" href="javascript:;">购买专辑</a>
{/if}
{else}
<a data-action="buy" class="f-fl u-btn u-btn-red f-mgr10 {if product.specialType==15}u-btn-gray{/if}" href="javascript:;">立即购买</a>
{/if}
{/if}
{if product.type==2 && product.specialType==0 && product.priceType==1 && !addCartFlag}
<a class="f-fl u-btn u-btn-red u-btn-red-1 j-joincart" data-action="join" data-type="cart"><i class="u-icn u-icn-7"></i>加入购物车</a>
{/if}
{/if}
</p>
{/if}
</textarea>
<textarea name="jst" id="m-new-skus"> <div class="j-flag">
{for sku in product.renderSkus}
<div class="select select-time select-sku f-cb" id="sku-select-box-${sku_key}">
<div class="title f-pr"><i class="u-icn u-icn-9"></i><span class="qin">请选择</span>${sku.name} :<i data-action="clearSkuErr" class="u-icn u-icn-10" data-id="sku-select-box-${sku_key}"></i></div>
<ul class="f-cb">
{for attr in sku.values}
<li data-action="selectNewSku"
data-id="${attr_key}"
data-parentid="${sku_key}"
class=" {if !attr.canSelect||isDisabled} z-dis {else} f-pr {/if} {if attr.isSelect}z-sel{/if}" >
${attr.name|formatSkuName}
</li>
{/for}
</ul>
</div>
{/for}
</div>
</textarea>
<textarea name="jst" id="m-new-skus-count"> <div class="count f-mgt20 j-numcount {if product.extInfo.restrict==6||product.extInfo.restrict==7}f-hide{/if}">
<p class="number">数量 :</p>
<div id="digital-counter-new">
<div class="u-counter">
<a data-action="down_newsku" href="javascript:;" class="btn btn-dis j-x"><i class="u-icn u-icn-27"></i></a>
<span class="tot"><input type="text" value="1" class="text f-fs1 j-x"></span>
<a data-action="plus_newsku" href="javascript:;" class="btn {if stockMax<=1 || product.status==-1}btn-dis{/if} j-x"><i class="u-icn u-icn-28"></i></a>
</div>
<div style="margin-top:5px;left:-5px;display:none;" class="u-tips-err j-x"><i class="f-ib"></i>请输入要购买的数量</div>
</div>
</div>
</textarea>
<textarea name="jst" id="m-new-skus-buy"> <div class="topbarctn">
<div class="imgbox f-fl">
<img src="${img}">
</div>
<div class="prtmsg f-fl">
<p class="f-thide">${product.name}</p>
<span style="color:#d33a31;">${price}</span>
</div>
<div class="tobarbtn f-fr">
{if product.exchangeType==1}
{if product.vipLimit==true&&vipInfo.vipLevel<11}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding:0 16px;">仅限黑胶VIP购买</a>
{elseif product.drawTime < (new Date().getTime())}
<a class="u-btn u-btn-gray" href="javascript:;">已结束</a>
{elseif bought}
<a class="u-btn u-btn-gray" href="javascript:;">已参与</a>
{else}
<a data-action="buy" class="u-btn u-btn-red" href="javascript:;">我要参与</a>
{/if}
{else}
{if product.vipLimit==true&&vipInfo.vipLevel<11}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding:0 16px;">仅限黑胶VIP购买</a>
{elseif product.status==-1}
<a class="u-btn u-btn-gray" href="javascript:;">已下架</a>
{elseif !product.allowDupBuy&&bought}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding:0 5px;">仅能购买一件</a>
{elseif calcStock(skus)==0}
<a class="u-btn u-btn-gray" href="javascript:;">已售罄</a>
{else}
{if product.type==2 && product.specialType==0 && product.priceType==1}
<a data-action="buyinfixed" class="f-fl u-btn u-btn-white f-mgr10 {if product.specialType==15}u-btn-gray{/if}" href="javascript:;">{if product.specialType==5}购买专辑{else}立即购买{/if}</a>
{else}
<a data-action="buyinfixed" class="f-fl u-btn u-btn-red f-mgr10 {if product.specialType==15}u-btn-gray{/if}" href="javascript:;">{if product.specialType==5}购买专辑{else}立即购买{/if}</a>
{/if}
{if product.type==2 && product.specialType==0 && product.priceType==1}
<a class="f-fl u-btn u-btn-red u-btn-red-1 j-joincart" data-action="joininfixed"><i class="u-icn u-icn-7"></i>加入购物车</a>
{/if}
{/if}
{/if}
</div>
</div>
<div class="border f-pa"></div>
</textarea>
<textarea name="jst" id="m-detail-special-info"><div class="basic">
<h2 class="f-ff2">${product.name}</h2>
{if product.suggestWord}
<p class="sellpoint">${product.suggestWord|escape}</p>
{/if}
<p class="price">
${product.priceType|toRmbText}
<em class="j-flag">${product|calcPrice:'price'}</em>
${product.priceType|toJifenText}
{if product.discount}
<sub class="dis">${product.priceType|toRmb}<span class="j-flag">${product|calcPrice:'oriPrice'}</span> ${product.priceType|toJifen}</sub>
{else}
<span class="f-hide j-flag"></span>
{/if}
</p>
{if product.levelLimit>0}
<p class="level s-fc3 f-fs1"><i class="u-icn u-icn-6"></i>${product.levelLimit}级以上用户专享</p>
{/if}
</div>
<div class="pan">
{if record}
<p class="cur s-fc3">{if product.specialType==1}<em class="s-fc1 f-fw1">您正在使用 ${record.gCapacity|formatSize} 扩容包</em>{else}您已购买环球音乐包{/if}（${record.expireTime|formatExpire}）</p>
{/if}
<div class="select select-pan">
<div class="title f-pr"><i class="u-icn u-icn-9"></i>选择{if product.specialType==1}扩容包{else}音乐包{/if}类型<i data-action="close" class="u-icn u-icn-10"></i></div>
<ul class="f-cb j-flag">
{list product.skus as sku}
{var attr = sku.attrs[0]}
{if product.specialType==1}
<li {if record&&attr.calValue!=record.gCapacity}class="z-dis"{else}class="f-pr"{/if} data-action="selectSku" data-index="${sku_index}">
<p class="volume">${attr.attrValue}</p>
<p>{if record&&attr.calValue>record.gCapacity}+12个月{else}+12个月{/if}</p>
</li>
{else}
<li data-action="selectSku" data-index="${sku_index}" class="f-pr">
<p class="time f-ff2">${attr.attrValue}</p>
</li>
{/if}
{/list}
</ul>
</div>
<p class="validity f-hide j-flag"></p>
<p class="tip f-hide j-flag">注：升级后扩容包有效期不变；原扩容包未使用的部分，将会把积分退还到你的积分账户</p>
</div>
{if product.status==-1}
<a class="u-btn u-btn-gray" href="javascript:;"></i>已下架</a>
{elseif !product.allowDupBuy&&bought}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding:0 5px;"></i>仅能购买一件</a>
{else}
<a data-action="buy" class="u-btn u-btn-red u-btn-red-1" href="javascript:;"></i>立即购买</a>
{/if}
</textarea>
<textarea name="jst" id="m-product-desc"> {if specialType==5}
<h3 class="secondtitle">商品详情</h3>
{/if}
{if webURL}
<a href="${webURL}">
<img src="${promotionPicId}">
</a>
{else}
{if promotionPicId}
<img src="${promotionPicId}">
{/if}
{/if}
<div id="info"></div>
{list descr as d}
{if d.type==1}
<p>${d.resource}</p>
{elseif d.type==2}
<img src="${d.resource}">
{/if}
{/list}
</textarea>
<textarea name="jst" id="m-product-list"> {list beg..end as y}
{var x=xlist[y]}
<li>
<div class="tags">
{if x.tags&&x.tags.length}
<div><i class="tag">${x.tags[0]}</i></div>
{/if}
{if x.exchangeType==1}
<div><i class="tag tag-blue">抽奖</i></div>
{/if}
</div>
<div><a href="/store/product/detail?id=${x.id}"><img src="${x.coverUrl}?param=224y224"></a></div>
<div class="info">
<p class="name f-thide"><a href="/store/product/detail?id=${x.id}">${x.name}</a></p>
<p class="f-fs2 s-fc6">${toRmb(x.priceType)}${price(x)}${toJifen(x.priceType)}</p>
</div>
</li>
{/list}
</textarea>
<textarea name="jst" id="m-song-detail"> <div class="basic">
<h2 class="f-ff2">单曲《${product.name|cutString:46,true}》</h2>
{if product.suggestWord}
<p class="sellpoint">${product.suggestWord|escape}</p>
{/if}
<p class="desc s-fc3 f-fs1">购买成功后，即拥有该歌曲的永久权限，可以无限试听下载。</p>
<p class="price price-song">${product.priceType|toRmbText}<em>${songPrice}</em>${product.priceType|toJifenText}</p>
</div>
<div class="from s-fc3 f-fs1">
<p>歌手：${product.extInfo.artistName}</p>
<p>所属专辑：${product.extInfo.albumName}</p>
</div>
{if product.exchangeType==1}
<p>
{if product.drawTime < (new Date().getTime())}
<a class="u-btn u-btn-red u-btn-gray" href="javascript:;">已结束</a>
{elseif bought}
<a class="u-btn u-btn-red u-btn-gray" href="javascript:;">已参与</a>
{else}
<a data-action="buy" class="u-btn u-btn-red" href="javascript:;">我要参与</a>
{/if}
</p>
{else}
<p class="j-flag">
{if product.status==-1}
<a class="u-btn u-btn-gray" href="javascript:;">已下架</a>
{elseif !product.allowDupBuy&&bought}
<a class="u-btn u-btn-gray" href="javascript:;" style="padding:0 5px;">仅能购买一件</a>
{elseif calcStock(skus)==0}
<a class="u-btn u-btn-gray" href="javascript:;">已售罄</a>
{else}
<a data-action="buy" class="u-btn u-btn-red u-btn-red-1" href="javascript:;">立即购买</a>
{/if}
</p>
{/if}
</textarea>
<textarea name="jst" id="m-enhance-detail"></textarea>
<script id="promotionin" type="text/regular">
<div class="m-pro-wrap">
<p class="title">优惠套餐</p>
{#if matchInfo.length > 1}
<ul class="title-list f-cb">
{#list matchInfo as info}
{#if info_index < 5}
<li {#if info_index === currentIndex} class="z-slt" {/if} on-click={this.handleClick(info.configId, info_index)}>套餐{this.getIndex(info_index, num)}</li>
{/if}
{/list}
{#if matchInfo.length >= 6}
<li {#if more !== "更多" && currentIndex >=5} class="z-slt" {/if} style="position: relative;" on-mouseenter={this.toggleMore(true)} on-mouseleave={this.toggleMore(false)}>
<span>{more} <i {#if isShowMore} class="tot tot-down" {#else} class="tot" {/if}></i></span>
{#if isShowMore}
<div class="more">
<i class="arr"></i>
<ul>
{#list matchInfo as info}
{#if info_index >= 5 && info_index < 20}
<li on-click={this.changeIndex(info.configId, info_index)}>
套餐{this.getIndex(info_index, num)}
</li>
{/if}
{/list}
</ul>
</div>
{/if}
</li>
{/if}
</ul>
{/if}
<div class="pro-card f-pr">
<span class="promotion-plus"></span>
<ul {#if matchInfo.length > 1} class="card-list f-cb" {#else} class="card-list f-cb f-mgt20"{/if}>
{#list obj.itemLimitDatas as item by item_index }
{#if item_index < 4}
<m-promotion-card cpdata={item} allinfo={obj} index={item_index} len={obj.itemDatas.length} on-deleteCard={this.onDeleteCard($event,obj.itemDatas)} on-checkedEvent={this.onCheckedEvent($event)} on-cardnumchange={this.onCardNumberChange($event)} on-changeProductSku={this.changeProductSku($event)}/>
{/if}
{/list}
<li class="total f-pr">
{#if obj.itemDatas.length > 4}
<div class="btn-wrap">
<span on-click={this.changeItemLimitDatas("minus")} {#if hasLess}class="arr arr-up"{#else}class="arr arr-up arr-up-dis"{/if}></span>
<span on-click={this.changeItemLimitDatas("plus")} {#if hasMore}class="arr arr-down"{#else}class="arr arr-down arr-down-dis"{/if}></span>
</div>
{#else}
<div class="line"></div>
{/if}
<div class="inner">
<p class="msg">共{obj.matchProductItemList.length}件，已选择<i class="s-fc6">{#if this.getSelectedNum() >0}{this.getSelectedNum() - 1}{#else}{this.getSelectedNum()}{/if}</i>件搭配商品</p>
<p class="spe-price"><span class="tit">{#if this.getSelectedNum() > 1}套餐价{#else}价格{/if} :</span><i class="price">&yen;{obj.matchPromotionPriceInfo.totalPrice}</i></p>
<p class="discount-price"><span class="tit">可优惠:</span>
<span>
{#if this.getSelectedNum() != 1}
&yen;{obj.matchPromotionPriceInfo.discountPrice}
{#else}
&yen;0
{/if}
</span>
</p>
<a href="javascript:;" class="btn" on-click={this.goToWindow()}>立即购买</a>
</div>
</li>
</ul>
</div>
</div>
</script>
<script id="promotionslt" type="text/regular">
<div class="promotion-layer f-cb">
<ul style="height: 522px;overflow-y: scroll;">
{#list obj.itemDatas as item by item_key }
<m-heavy-card cpdata={item} allinfo={obj} index={item_index} on-deleteCard={this.onDeleteCard($event,obj.itemDatas)} on-checkedEvent={this.onCheckedEvent($event)} on-cardnumchange={this.onCardNumberChange($event)} on-changeProductSku={this.changeProductSku($event)}/>
{/list}
</ul>
<div class="bottom">
<span class="tot" on-click={this.onSelectAllClick()}>
<span class="check">
<i {#if this.getSelectedNumExceptMain()} class="checkbox u-checkbox z-checked" {#else} class="checkbox u-checkbox" {/if}></i>
</span>
<span>{#if this.isAllSelectedExceptMain()}全选{#else}已选（{this.getSelectedNumExceptMain()}）{/if}</span>
</span>
<span class="pay" on-click={this.gotoJiesan()}>结算</span>
<span class="price">{#if this.getSelectedNum() > 1}套餐价{#else}价格{/if} : <i>&yen;{priceInfo.totalPrice}</i></span>
<span class="dis">可优惠 : &yen;{priceInfo.discountPrice}</span>
</div>
</div>
</script>
<script id="promotioncard" type="text/regular">
<li class={this.getClazz(index, cpdata.invalidType)}>
<img src={this.getImageSrc(cpdata)} alt="" on-click={this.goToDetail(cpdata.productId)}>
{#if index!==0}
<span class="check" {#if cpdata.invalidType===0}on-click={this.onCheckbox($event,cpdata)}{/if}>
<i {#if cpdata.selected && cpdata.invalidType===0} class="checkbox u-checkbox z-checked" {#else} class="checkbox u-checkbox" {/if}></i>
</span>
{/if}
<a class="name f-thide2" href="/store/product/detail?id={cpdata.productId}">{cpdata.productName}</a>
<p class="price"><span class="spec">&yen;{cpdata.price}</span>
<del>&yen;{cpdata.oriPrice}</del>
</p>
</li>
</script>
<script id="heavycard" type="text/regular">
<li {#if this.isInvalid()} class="z-invalid f-pr" {#else} class="f-pr" {/if}>
<div {#if index===0}class="pro-card f-cb first" {#else} class="pro-card f-cb"{/if}>
<div class="left f-fl">
{#if index!=0}
<span class="check" {#if cpdata.invalidType===0}on-click={this.onCheckbox($event,cpdata)}{/if}>
<i {#if cpdata.selected && cpdata.invalidType===0} class="checkbox u-checkbox z-checked" {#else} class="checkbox u-checkbox" {/if}></i>
</span>
{/if}
</div>
<div {#if !isMultiSku}class="right cover f-fl"{#else}class="right f-fl"{/if}>
<img src="{this.getImageSrc(cpdata)}" alt="">
<div class="unavalible">{this.getUnavalibleInfo(cpdata)}</div>
<div class="cnt">
<a href="/store/product/detail?id={cpdata.productId}" class="name">{cpdata.productName}</a>
<p class="price">
<span class="spec">&yen;{cpdata.price}</span>
<del>&yen;{cpdata.oriPrice}</del>
</p>
{#list renderSkus as sku by sku_key}
<div class="sku f-cb">
<div class="attr f-fl">{sku.name}：</div>
<div class="attrs f-cb">
{#list sku.values as value by value_key}
<span {#if !value.canSelect||isDisabled} class="value z-dis" {#elseif value.isSelect} class="value z-slt" {#else}class="value" {/if} on-click={this.onSelectSku(value_key, sku_key)}>{value.name}</span>
{/list}
</div>
</div>
{/list}
<div class="sku count f-cb">
<div class="attr f-fl">数量：</div>
<div class="attrs f-cb">
<cp-numcount max={this.getMax()} min=0 cnum={cpdata.num} on-numchange={this.onNumberChange($event)}/>
</div>
</div>
</div>
</div>
<div class="cover-line f-pa"></div>
</div>
</li>
</script> <textarea name="jst" id="m-detail-special-member-info"><div class="basic basic-fufei">
<h2 class="f-ff2">{if qr.friendId > 0}请完成购买{else}网易云音乐VIP会员{/if}</h2>
{if qr.friendId > 0}
<p class="desc s-fc3 f-fs1">请选择赠送给 <span class="s-fc7">${qr.friendName|escape}</span> 的会员类型，会员将在您购买成功后自动生效。</p>
{elseif !r}
<p class="desc s-fc3 f-fs1">订购即可畅享无损品质（SQ）音乐，更能独享海量付费专辑</p>
{else}
<p class="desc s-fc3 f-fs1">${tip}</p>
{/if}
<p class="price">${calcPrice()}</p>
</div>
{if coupons&&coupons.length>0}
<div class="m-coupons f-cb f-pr">
<div class="title f-pr">促销: </div>
<ul id="coupon-list">
{list coupons as coupon}
<li {if coupon_index == coupons.length - 1}class="lst"{/if}>
{if coupon.couponLabel}
<span class="label">${coupon.couponLabel}</span>
{/if}
<span class="">
{if coupon.effectAction.effectType == 1}
${coupon.effectAction.effectValue}元&nbsp;&nbsp;
{elseif coupon.effectAction.effectType == 2}
${coupon.effectAction.effectValue}折&nbsp;&nbsp;
{else}
包邮券&nbsp;&nbsp;
{/if}
${coupon.couponName},
</span>
<span>
{if coupon.effectAction.actionType == 1}
满${coupon.effectAction.minMoney}元可用
{else}
无门槛
{/if}
</span>
{if coupon.drawStatus == 0 || coupon.drawStatus == 4}
<span class="s-fcLink f-hand" data-action="bindCoupon" data-coupon="${coupon.couponCode}" data-point="${coupon.drawLimit.point}">
{if coupon.drawLimit.drawType == 0}
领券
{else}
${coupon.drawLimit.point}积分兑换
{/if}
</span>
{elseif coupon.drawStatus == 3}
<span class="s-fc999">已领完</span>
{else}
<span class="s-fc999">
{if coupon.drawLimit.drawType == 0}
已领
{else}
已兑换
{/if}
</span>
{/if}
{if coupon_index==0&&coupons.length>1}
<a href="javascript:;" class="f-fr all s-fc666" data-action="toggleShowAllCoupon">全部优惠券(${coupons.length}) <i class="arr" id="coupon-arr"></i></a>
{/if}
</li>
{/list}
</ul>
</div>
{/if}
<div class="fufei">
<div class="select select-fufei {if !!vipTypeErr}z-err{/if}"><!-- //错误时样式z-err -->
<div class="title f-pr"><i class="u-icn u-icn-9"></i>选择类型<i data-action="clearVipErr" class="u-icn u-icn-10"></i></div>
{if luxury==1}
<ul class="f-cb">
<li data-action="selectType" data-type="11" class="z-sel f-pr">
<p class="volume f-ff2">豪华会员(SVIP)</p>
<p class="tips">下载量：500首/月</p>
<i class="u-icn u-icn-skusel"></i>
</li>
</ul>
{else}
<ul class="f-cb">
<li data-action="selectType" data-type="10" {if vipType==10}class="z-sel f-pr"{/if}>
<p class="volume f-ff2">普通会员(VIP)</p>
<p class="tips">下载量：300首/月</p>
<i class="u-icn u-icn-skusel"></i>
</li>
<li data-action="selectType" data-type="11" {if vipType==11}class="z-sel f-pr"{/if}>
<p class="volume f-ff2">豪华会员(SVIP)</p>
<p class="tips">下载量：500首/月</p>
<i class="u-icn u-icn-skusel"></i>
</li>
</ul>
{/if}
</div>
<div class="select select-time {if !!skuError}z-err{/if}">
<div class="title f-pr"><i class="u-icn u-icn-9"></i>选择时长<i data-action="clearSkuErr" class="u-icn u-icn-10"></i></div>
<ul class="f-cb">
{list p.skus as s}
{var attr=s.attrs[0]}
{if calcVipType(attr.calValue)==(vipType||10)}
{if s.activityType==2}
<li data-action="selectSku" data-index="${s_index}" {if sku&&sku.id==s.id&&sku.activityType==2}class="z-sel f-pr"{/if}>
<p class="f-ff2">${attr.calValue|calcMonth}个月<span class="s-fc6">&nbsp;&nbsp;&nbsp;&nbsp;参与《跨界歌王》门票抽奖</span></p><i class="u-icn u-icn-skusel"></i>
</li>
{elseif vipActivitySwitch==1 && isShowMonth(attr.calValue)==12 && calcVipType(attr.calValue)==11}
<li data-action="selectSku" data-index="${s_index}" {if sku&&sku.id==s.id&&sku.activityType==undefined}class="z-sel f-pr"{/if}>
<p class="f-ff2"><i class="u-icn u-icn-hui"></i>${attr.calValue|calcMonth}个月</p><i class="u-icn u-icn-skusel"></i>
</li>
{else}
{if isShowMonth(attr.calValue) }
<li data-action="selectSku" data-index="${s_index}" {if sku&&sku.id==s.id&&sku.activityType==undefined}class="z-sel f-pr"{/if}>
<p class="f-ff2">${attr.calValue|calcMonth}个月</p><i class="u-icn u-icn-skusel"></i>
</li>
{/if}
{/if}
{/if}
{/list}
</ul>
{if expires}
<p class="validity">购买后有效期至：<span class="s-fc6">${expires|format:'yyyy-MM-dd'}</span></p>
{/if}
</div>
{if vipActivityTip}
<div class="activity"><i class="u-icn u-icn-double11"></i>${vipActivityTip}</div>
{/if}
</div>
<p><a data-action="buy" class="u-btn u-btn-red u-btn-red-1" href="javascript:;">{if qr.friendId > 0}立即赠送{elseif !r}立即开通{else}立即续费{/if}</a></p>
</textarea>
<textarea name="txt" id="m-product-detail-json">{"vipLevel":0,"isLogin":"0","avatarUrl":"","nickname":"","userId":0,"validNum":0}
</textarea>
<textarea name="ntp" id="ntp-login-nav"><div class="lyct lyct-1">
<div class="n-log2 n-log2-1 f-cb">
<div class="u-main">
<div class="u-plt"></div>
<div class="f-mgt10">
<a href="javascript:;" class="u-btn2 u-btn2-2" data-action="login" data-type="mobile"><i>手机号登录</i></a>
</div>
<div class="f-mgt10">
<a href="javascript:;" class="u-btn2 u-btn2-1" data-action="reg"><i>注&#12288;册</i></a>
</div>
</div>
<div class="u-alt">
<ul>
<li><a href="#" target="_blank" data-action="login" data-type="thirdparty"><i class="u-mlg2 u-mlg2-wx"></i>微信登录</a></li>
<li><a href="#" target="_blank" data-action="login" data-type="thirdparty"><i class="u-mlg2 u-mlg2-qq"></i>QQ登录</a></li>
<li><a href="#" target="_blank" data-action="login" data-type="thirdparty"><i class="u-mlg2 u-mlg2-sn"></i>微博登录</a></li>
<li><a href="javascript:;" data-action="login" data-type="netease"><i class="u-mlg2 u-mlg2-wy"></i>网易邮箱帐号登录</a></li>
</ul>
</div>
</div>
</div>
</textarea>
<textarea name="ntp" id="ntp-login-mobile"><div class="lyct lyct-1">
<div class="n-log2 n-log2-2">
<div>
<input type="text" class="js-input u-txt" placeholder="请输入手机号">
</div>
<div class="f-mgt10">
<input type="password" class="js-input u-txt" placeholder="请输入密码">
</div>
<div class="u-err" style="display:none;"><i class="u-icn u-icn-15"></i><span></span></div>
<div class="f-mgt10">
<label class="s-fc3"><input type="checkbox" checked="checked" class="u-auto">自动登录</label>
<a href="#" class="f-fr s-fc3" data-action="forget">忘记密码？</a>
</div>
<div class="f-mgt20">
<a class="js-primary u-btn2 u-btn2-2" hidefocus="true" href="#" data-action="login"><i>登&#12288;录</i></a>
</div>
</div>
<div class="js-btmbar n-loglink2 f-cb">
<a href="javascript:;" data-action="select" class="f-fl s-primary">&lt;&nbsp;&nbsp;其他登录方式</a>
<a href="javascript:;" data-action="reg" class="f-fr">没有帐号？免费注册&nbsp;&nbsp;&gt;</a>
</div>
</div>
</textarea>
<textarea name="ntp" id="ntp-login-netease"><div class="lyct lyct-1 f-cb">
<div class="n-log2 n-log2-2">
<div class="f-pr" style="z-index:5;">
<input type="text" class="js-input u-txt" placeholder="请输入帐号">
<ul class="js-suggest u-fill" style="visibility:hidden;"></ul>
</div>
<div class="f-mgt10">
<input type="password" class="js-input u-txt" placeholder="请输入密码">
</div>
<div class="u-err" style="display:none;"><i class="u-icn u-icn-15"></i><span></span></div>
<div class="f-mgt10">
<label class="s-fc3"><input type="checkbox" checked="checked" class="u-auto">自动登录</label>
<a href="//reg.163.com/getpasswd/RetakePassword.jsp" target="_blank" class="f-fr s-fc3">忘记密码？</a>
</div>
<div class="f-mgt20">
<a class="js-primary u-btn2 u-btn2-2" hidefocus="true" href="#" data-action="login"><i>登&#12288;录</i></a>
</div>
</div>
<div class="n-loglink2"><a href="javascript:;" data-action="select" class="s-primary">&lt;&nbsp;&nbsp;其他登录方式</a></div>
</div>
</textarea>
<textarea name="jst" id="jst-login-suggest">{list suggests as item}
<li class="f-thide"><a href="#" data-action="suggest" title="${item|escape}">${item|escape}</a></li>
{/list}
</textarea>
<textarea name="ntp" id="ntp-reg-mobile"><div class="lyct lyct-1 f-cb">
<div class="n-log2 n-log2-2">
<div class="s-fc3"><label>手机号：</label></div>
<div class="f-mgt10">
<div class="u-txtwrap">
<span class="u-prefix">+86</span>
<input type="text" class="u-txt" placeholder="请输入手机号">
</div>
</div>
<div class="f-mgt10 s-fc3"><label>密码：</label></div>
<div class="f-mgt10">
<input type="password" class="u-txt f-mgt10" placeholder="设置登录密码，不少于6位">
</div>
<div class="u-err" class="f-hide"><i class="u-icn u-icn-15"></i><span></span></div>
<div class="f-mgt20">
<a class="u-btn2 u-btn2-2" hidefocus="true" href="#" data-action="ok"><i>下一步</i></a>
</div>
</div>
<div class="n-loglink2"><a href="javascript:;" data-action="back" class="s-primary">&lt;&nbsp;&nbsp;返回登录</a></div>
</div>
</textarea>
<textarea name="ntp" id="ntp-verifycaptcha"><div class="lyct lyct-1 f-cb f-fs14">
<div class="n-log2 n-log2-2">
<p class="js-tip f-hide u-tip">云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>请绑定手机号，以免后续无法使用该帐号</p>
<div class="js-mobwrap f-hide f-pdb20">
<p class="s-fc3">你的手机号：<strong class="js-mob s-fc1"></strong></p>
<p class="s-fc4 f-mgt5">为了安全，我们会给你发送短信验证码</p>
</div>
<div class="js-mobwrap f-hide f-pdb10">
<div class="s-fc666"><label class="js-lbl"></label></div>
<div class="f-mgt10">
<div class="u-txtwrap">
<span class="u-prefix">+86</span>
<input type="text" class="js-txt u-txt" placeholder="请输入手机号">
</div>
</div>
<div class="s-fc3 f-mgt10"><label>验证码：</label></div>
</div>
<div class="put f-cb">
<input type="text" class="js-txt u-txt2" placeholder="请输入验证码" value="">
<span class="js-cd u-cd f-hide f-fr s-fcAAA"></span>
<a href="#" class="js-send u-btn-sp f-hide f-fr" data-action="send"><i>获取验证码</i></a>
</div>
<div class="u-err"><i class="u-icn u-icn-15"></i><span></span></div>
<div class="f-mgt20">
<a class="js-next u-btn-new u-btn-new2" hidefocus="true" href="#" data-action="next"><i></i></a>
</div>
</div>
<div class="js-btmbar n-loglink2 f-cb f-hide">
<a href="javascript:;" data-action="back" class="js-back f-hide f-fl s-primary">&lt;&nbsp;&nbsp;返回登录</a>
<a href="javascript:;" data-action="skip" class="js-skip f-hide f-fr">跳过&nbsp;&nbsp;&gt;</a>
</div>
</div>
</textarea>
<textarea name="ntp" id="ntp-setnickname"><div class="lyct lyct-1 f-cb">
<div class="n-log2 n-log2-3">
<p class="s-fc1 f-tc">取一个昵称，让大家记住你</p>
<div class="f-mgt20">
<input type="text" class="js-flag u-txt" placeholder="昵称不少于4个字母或2个汉字">
</div>
<div class="f-cb ScapTcha js-flag" style="margin-top:10px;"></div>
<div class="u-err js-flag" class="f-hide"><i class="u-icn u-icn-15"></i><span></span></div>
<div class="f-mgt20">
<a class="u-btn2 u-btn2-2 js-flag" hidefocus="true" href="#" data-action="ok"><i>开启云音乐</i></a>
</div>
</div>
</div>
</textarea>
<textarea name="ntp" id="ntp-reg-setting"><div class="lyct lyct-1 f-cb">
<div class="n-log2 n-log2-3">
<p class="js-tip s-fc1 f-tc f-mg20">取一个昵称，让大家记住你</p>
<div class="f-mgt20">
<input type="text" class="js-input u-txt" placeholder="昵称不少于4个字母或2个汉字">
</div>
<div class="u-err" class="f-hide"><i class="u-icn u-icn-15"></i><span></span></div>
<div class="f-mgt20">
<a class="js-primary u-btn2 u-btn2-2" hidefocus="true" href="#" data-action="ok"><i>开启云音乐</i></a>
</div>
</div>
</div>
</textarea>
<textarea name="ntp" id="ntp-setpassword"><div class="lyct lyct-1 f-cb">
<div class="n-log2 n-log2-3">
<p class="js-tip u-tip f-hide">云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>设置登录密码，以后可以使用手机号登录</p>
<p class="js-tip s-fc3 f-hide">你的手机号：<strong class="js-mob s-fc1"></strong></p>
<p class="js-tip s-fc3 f-mg20 f-tc f-hide">设置密码后，可以直接用该手机号+密码登录</p>
<div class="f-mgt10">
<input type="password" class="js-input u-txt f-mgt10" placeholder="设置登录密码，不少于6位">
</div>
<div class="u-err"><i class="u-icn u-icn-15"></i><span></span></div>
<div class="f-mgt20">
<a class="js-primary u-btn2 u-btn2-2" hidefocus="true" href="#" data-action="ok"><i></i></a>
</div>
</div>
<div class="js-btmbar n-loglink2 f-cb f-hide">
<a href="javascript:;" data-action="skip" class="f-fr">跳过&nbsp;&nbsp;&gt;</a>
</div>
</div>
</textarea>
<textarea name="txt" id="txt-login-captcha"><div class="f-mgt10">
<input id="captcha" type="text" class="u-txt u-code j-flag" placeholder="请输入验证码">
<img class="u-captcha j-flag" src="">
</div>
</textarea>
<textarea name="ntp" id="m-captcha-layer"><div class="wrap">
<p class="s-fc3">如果你不是机器人输入验证码一定没问题！</p>
<p class="input f-cb j-flag">
</p>
<div class="u-err f-hide j-flag"><i class="u-icn u-icn-15"></i>帐号或密码错误</div>
<div class="btnwrap">
<a data-action="ok" class="u-btn2 u-btn2-2 u-btn2-w2" hidefocus="true" href="javascript:;"><i>确 定</i></a>
<a data-action="cc" class="u-btn2 u-btn2-1 u-btn2-w2" hidefocus="true" href="javascript:;"><i>取消</i></a>
</div>
</div>
</textarea>
</div>
<script src="//s3.music.126.net/store/s/w/core.js?8fdaa8acc904f8c9a423de62cf027b80" type="text/javascript"></script><script src="//s3.music.126.net/store/s/w/pt_module_product_detail_index.js?eb2fbb98cf01656b86d82f98e4a8130e" type="text/javascript"></script>
</body>
</html>